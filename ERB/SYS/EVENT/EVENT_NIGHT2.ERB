;========================================================
;이벤트에서 섹스 처리를 한데 뭉뚱그리는 파일
;=========================================================
;=======================================================================
;
;세분화된 요바이 행동의 경험, 구슬 취득 처리 및 주인의 능력 판정 호출
;
;=======================================================================
;세분화된 처리를 일일이 EVENT_NIGHT1에 덧붙여 써나가면
;실로 읽기 어려워질 거라 여기지기 때문에 처리는 이 파일에서 일괄적으로 실행하기로 함.
;
;============================
;노예의 좆대
;============================
;----------------------------
;강제 스마타
;----------------------------
@NIGHT_SEX_0, ARG, ARG:1
REPEAT 2
    LOCAL:1 = (COUNT == 0) ? ARG # TARGET
    LOCAL:2 = (COUNT == 0) ? TARGET # ARG
    
    ;02절정경험
    CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):C감각/6), 0
    ;03사정경험
    IF EXIST_PENIS(LOCAL:1)
        LOCAL = ARG:1*ABL:(LOCAL:1):C감각/6
        CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
        ;LUNATIC 이상은 사정할 때마다 체력이 감소
        CALL EXHAUST_EJAC, LOCAL:1, LOCAL
    ENDIF
    ;04정액경험
    SIF EXIST_PENIS(LOCAL:2)
        CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):C감각/6), 0
    ;12레즈경험
    SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:2):120 == 0
        CALL COMMON_UP_EXP, LOCAL:1, 12, 3*ARG:1, 0
    ;13BL경험
    SIF TALENT:(LOCAL:1):120 && TALENT:(LOCAL:2):120
        CALL COMMON_UP_EXP, LOCAL:1, 13, 3*ARG:1, 0
    ;23키스경험
    CALL COMMON_UP_EXP, LOCAL:1, 23, ARG:1/3, 0
    ;44B쾌락경험
    SIF LOCAL:1 == ARG && TALENT:(LOCAL:1):120 == 0
        CALL COMMON_UP_EXP, LOCAL:1, 44, (ARG:1*ABL:(LOCAL:1):B감각/2), 0

    ;노예 구슬 취득 처리
    IF LOCAL:1 != MASTER
        ;00쾌Ｃ
        SIF LOCAL:1 != ARG
            CALL COMMON_UP_JUEL, LOCAL:1, 0, 40*ARG:1*(1+ABL:(LOCAL:1):C감각)*(1+ABL:(LOCAL:2):기교), 0
        ;03쾌Ｂ
        IF LOCAL:1 == ARG
            SIF TALENT:(LOCAL:1):120 == 0
                CALL COMMON_UP_JUEL, LOCAL:1, 3, 20*ARG:1*(1+ABL:(LOCAL:1):B감각)*(1+ABL:(LOCAL:2):기교), 0
        ENDIF
        ;13욕망
        CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):욕망)*(1+ABL:(LOCAL:2):기교), 0
        ;14굴복
        SIF LOCAL:1 == ARG
            CALL COMMON_UP_JUEL, LOCAL:1, 14, 10*ARG:1*(1+ABL:(LOCAL:1):순종)*(1+ABL:(LOCAL:1):봉사정신), 0
    ENDIF
    PRINTW  
REND

;----------------------------
;Ｖ에 삽입한다
;----------------------------
@NIGHT_SEX_1, ARG, ARG:1
REPEAT 2
    LOCAL:1 = (COUNT == 0) ? ARG # TARGET
    LOCAL:2 = (COUNT == 0) ? TARGET # ARG
    
    ;00V경험
    SIF LOCAL:1 == ARG && TALENT:(LOCAL:1):120 == 0
        CALL COMMON_UP_EXP, LOCAL:1, 0, ARG:1, 0
    ;02절정경험
    IF LOCAL:1 == ARG
        CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):V감각/6), 0
    ELSE
        CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):C감각/6), 0
    ENDIF
    ;03사정경험
    IF EXIST_PENIS(LOCAL:1)
        IF LOCAL:1 == ARG
            LOCAL = ARG:1*ABL:(LOCAL:1):V감각/6
            CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
            ;LUNATIC 이상은 사정할 때마다 체력이 감소
            CALL EXHAUST_EJAC, LOCAL:1, LOCAL
        ELSE
            LOCAL = ARG:1*ABL:(LOCAL:1):C감각/6
            CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
            ;LUNATIC 이상은 사정할 때마다 체력이 감소
            CALL EXHAUST_EJAC, LOCAL:1, LOCAL
        ENDIF
    ENDIF
    ;04정액경험
    IF EXIST_PENIS(LOCAL:2)
        IF LOCAL:2 == ARG
            CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):V감각/6), 0
        ELSE
            CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):C감각/6), 0
        ENDIF
    ENDIF
    ;12레즈경험
    SIF TALENT:(LOCAL:1):남자 == 0 && TALENT:(LOCAL:2):남자 == 0
        CALL COMMON_UP_EXP, LOCAL:1, 12, 3*ARG:1, 0
    ;23키스경험
    CALL COMMON_UP_EXP, LOCAL:1, 23, ARG:1/3, 0
    ;44B쾌락경험
    SIF LOCAL:1 == ARG && TALENT:(LOCAL:1):남자 == 0
        CALL COMMON_UP_EXP, LOCAL:1, 44, (ARG:1*ABL:(LOCAL:1):B감각/2), 0

    ;노예 구슬 취득 처리
    IF LOCAL:1 != MASTER
        ;00쾌Ｃ
        SIF LOCAL:1 != ARG
            CALL COMMON_UP_JUEL, LOCAL:1, 0, 40*ARG:1*(1+ABL:(LOCAL:1):C감각)*(1+ABL:(LOCAL:2):V감각), 0
        ;01쾌Ｖ
        SIF LOCAL:1 == ARG && TALENT:(LOCAL:1):남자 == 0
            CALL COMMON_UP_JUEL, LOCAL:1, 1, 40*ARG:1*(1+ABL:(LOCAL:1):V감각)*(1+ABL:(LOCAL:2):기교), 0
        ;02쾌Ａ
        SIF LOCAL:1 == ARG
            CALL COMMON_UP_JUEL, LOCAL:1, 2, 40*ARG:1*(1+ABL:(LOCAL:1):A감각)*(1+ABL:(LOCAL:2):기교), 0
        ;03쾌Ｂ
        IF LOCAL:1 == ARG
            SIF TALENT:(LOCAL:1):남자 == 0
                CALL COMMON_UP_JUEL, LOCAL:1, 3, 20*ARG:1*(1+ABL:(LOCAL:1):B감각)*(1+ABL:(LOCAL:2):기교), 0
        ENDIF
        ;13욕망
        CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):욕망)*(1+ABL:(LOCAL:2):기교), 0
        ;14굴복
        SIF LOCAL:1 == ARG
            CALL COMMON_UP_JUEL, LOCAL:1, 14, 10*ARG:1*(1+ABL:(LOCAL:1):순종)*(1+ABL:(LOCAL:1):봉사정신), 0
    ENDIF
    PRINTW  
REND

;----------------------------
;Ａ에 삽입한다
;----------------------------
@NIGHT_SEX_2, ARG, ARG:1
REPEAT 2
    LOCAL:1 = (COUNT == 0) ? ARG # TARGET
    LOCAL:2 = (COUNT == 0) ? TARGET # ARG
    
    ;01A경험
    SIF LOCAL:1 == ARG
        CALL COMMON_UP_EXP, LOCAL:1, 1, ARG:1, 0
    ;02절정경험
    IF LOCAL:1 == ARG
        CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):A감각/6), 0
    ELSE
        CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):C감각/6), 0
    ENDIF
    ;03사정경험
    IF EXIST_PENIS(LOCAL:1)
        IF LOCAL:1 == ARG
            LOCAL = ARG:1*ABL:(LOCAL:1):A감각/6
            CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
            ;LUNATIC 이상은 사정할 때마다 체력이 감소
            CALL EXHAUST_EJAC, LOCAL:1, LOCAL
        ELSE
            LOCAL = ARG:1*ABL:(LOCAL:1):C감각/6
            CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
            ;LUNATIC 이상은 사정할 때마다 체력이 감소
            CALL EXHAUST_EJAC, LOCAL:1, LOCAL
        ENDIF
    ENDIF
    ;04정액경험
    IF EXIST_PENIS(LOCAL:2)
        IF LOCAL:2 == ARG
            CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):A감각/6), 0
        ELSE
            CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):C감각/6), 0
        ENDIF
    ENDIF
    ;12레즈경험
    SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:2):120 == 0
        CALL COMMON_UP_EXP, LOCAL:1, 12, 3*ARG:1, 0
    ;13BL경험
    SIF TALENT:(LOCAL:1):120 && TALENT:(LOCAL:2):120
        CALL COMMON_UP_EXP, LOCAL:1, 13, 3*ARG:1, 0
    ;23키스경험
    CALL COMMON_UP_EXP, LOCAL:1, 23, ARG:1/3, 0
    ;30고통쾌락경험
    SIF LOCAL:1 == ARG
        CALL COMMON_UP_EXP, LOCAL:1, 30, ARG:1*ABL:(LOCAL:1):마조끼*(6-ABL:(LOCAL:1):A감각), 0
    ;43A쾌락경험
    SIF LOCAL:1 == ARG
        CALL COMMON_UP_EXP, LOCAL:1, 43, ARG:1*ABL:(LOCAL:1):A감각, 0
    ;44B쾌락경험
    SIF LOCAL:1 == ARG && TALENT:(LOCAL:1):120 == 0
        CALL COMMON_UP_EXP, LOCAL:1, 44, (ARG:1*ABL:(LOCAL:1):B감각/2), 0

    ;노예 구슬 취득 처리
    IF LOCAL:1 != MASTER
        ;00쾌Ｃ
        SIF LOCAL:1 != ARG
            CALL COMMON_UP_JUEL, LOCAL:1, 0, 40*ARG:1*(1+ABL:(LOCAL:1):C감각)*(1+ABL:(LOCAL:2):A감각), 0
        ;02쾌Ａ
        SIF LOCAL:1 == ARG
            CALL COMMON_UP_JUEL, LOCAL:1, 2, 40*ARG:1*(1+ABL:(LOCAL:1):A감각)*(1+ABL:(LOCAL:2):기교), 0
        ;03쾌Ｂ
        IF LOCAL:1 == ARG
            SIF TALENT:(LOCAL:1):120 == 0
                CALL COMMON_UP_JUEL, LOCAL:1, 3, 20*ARG:1*(1+ABL:(LOCAL:1):B감각)*(1+ABL:(LOCAL:2):기교), 0
        ENDIF
        ;13욕망
        CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):욕망)*(1+ABL:(LOCAL:2):기교), 0
        ;14굴복
        SIF LOCAL:1 == ARG
            CALL COMMON_UP_JUEL, LOCAL:1, 14, 10*ARG:1*(1+ABL:(LOCAL:1):순종)*(1+ABL:(LOCAL:1):봉사정신), 0
    ENDIF
    PRINTW  
REND

;----------------------------
;가슴 퍽
;----------------------------
@NIGHT_SEX_3, ARG, ARG:1
REPEAT 2
    LOCAL:1 = (COUNT == 0) ? ARG # TARGET
    LOCAL:2 = (COUNT == 0) ? TARGET # ARG
    
    ;02절정경험
    IF LOCAL:1 == ARG
        CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):B감각/6), 0
    ELSE
        CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):C감각/6), 0
    ENDIF
    ;03사정경험
    IF EXIST_PENIS(LOCAL:1)
        IF LOCAL:1 == ARG
            LOCAL = ARG:1*ABL:(LOCAL:1):B감각/6
            CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
            ;LUNATIC 이상은 사정할 때마다 체력이 감소
            CALL EXHAUST_EJAC, LOCAL:1, LOCAL
        ELSE
            LOCAL = ARG:1*ABL:(LOCAL:1):C감각/6
            CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
            ;LUNATIC 이상은 사정할 때마다 체력이 감소
            CALL EXHAUST_EJAC, LOCAL:1, LOCAL
        ENDIF
    ENDIF
    ;04정액경험
    IF EXIST_PENIS(LOCAL:2)
        IF LOCAL:2 == ARG
            CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):B감각/6), 0
        ELSE
            CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):C감각/6), 0
        ENDIF
    ENDIF
    ;12레즈경험
    SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:2):120 == 0
        CALL COMMON_UP_EXP, LOCAL:1, 12, 3*ARG:1, 0
    ;13BL경험
    SIF TALENT:(LOCAL:1):120 && TALENT:(LOCAL:2):120
        CALL COMMON_UP_EXP, LOCAL:1, 13, 3*ARG:1, 0
    ;44B쾌락경험
    SIF LOCAL:1 == ARG
        CALL COMMON_UP_EXP, LOCAL:1, 44, ARG:1*ABL:(LOCAL:1):B감각, 0

    ;노예 구슬 취득 처리
    IF LOCAL:1 != MASTER
        ;00쾌Ｃ
        SIF LOCAL:1 != ARG
            CALL COMMON_UP_JUEL, LOCAL:1, 0, 40*ARG:1*(1+ABL:(LOCAL:1):C감각)*(1+ABL:(LOCAL:2):기교), 0
        ;03쾌Ｂ
        IF LOCAL:1 == ARG
            IF TALENT:(LOCAL:1):120 == 0
                CALL COMMON_UP_JUEL, LOCAL:1, 3, 40*ARG:1*(1+ABL:(LOCAL:1):B감각)*(1+ABL:(LOCAL:2):기교), 0
            ELSE
                CALL COMMON_UP_JUEL, LOCAL:1, 3, 20*ARG:1*(1+ABL:(LOCAL:1):B감각)*(1+ABL:(LOCAL:2):기교), 0
            ENDIF
        ENDIF
        ;13욕망
        CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):욕망)*(1+ABL:(LOCAL:2):기교), 0
        ;14굴복
        SIF LOCAL:1 == ARG
            CALL COMMON_UP_JUEL, LOCAL:1, 14, 10*ARG:1*(1+ABL:(LOCAL:1):순종)*(1+ABL:(LOCAL:1):봉사정신), 0
    ENDIF
    PRINTW  
REND

;----------------------------
;이마라치오
;----------------------------
@NIGHT_SEX_4, ARG, ARG:1
REPEAT 2
    LOCAL:1 = (COUNT == 0) ? ARG # TARGET
    LOCAL:2 = (COUNT == 0) ? TARGET # ARG
    
    ;02절정경험
    IF LOCAL:1 == ARG
        CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):정액중독*ABL:(LOCAL:2):C감각/36), 0
    ELSE
        CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):C감각/6), 0
    ENDIF
    ;03사정경험
    IF EXIST_PENIS(LOCAL:1)
        IF LOCAL:1 == ARG
            LOCAL = ARG:1*ABL:(LOCAL:1):정액중독*ABL:(LOCAL:2):C감각/36
            CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
            ;LUNATIC 이상은 사정할 때마다 체력이 감소
            CALL EXHAUST_EJAC, LOCAL:1, LOCAL
        ELSE
            LOCAL = ARG:1*ABL:(LOCAL:1):C감각/6
            CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
            ;LUNATIC 이상은 사정할 때마다 체력이 감소
            CALL EXHAUST_EJAC, LOCAL:1, LOCAL
        ENDIF
    ENDIF
    ;04정액경험
    IF EXIST_PENIS(LOCAL:2)
        IF LOCAL:2 == ARG
            CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):정액중독*ABL:(LOCAL:1):C감각/36), 0
        ELSE
            CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):C감각/6), 0
        ENDIF
    ENDIF
;    ;08정음절정경험
;    SIF EXIST_PENIS(LOCAL:2)
;        CALL COMMON_UP_EXP, LOCAL:1, 8, (ARG:1*ABL:(LOCAL:1):정액중독*ABL:(LOCAL:2):C감각/36), 0
    ;12레즈경험
    SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:2):120 == 0
        CALL COMMON_UP_EXP, LOCAL:1, 12, 3*ARG:1, 0
    ;13BL경험
    SIF TALENT:(LOCAL:1):120 && TALENT:(LOCAL:2):120
        CALL COMMON_UP_EXP, LOCAL:1, 13, 3*ARG:1, 0
    ;22펠라경험
    SIF LOCAL:1 == ARG
        CALL COMMON_UP_EXP, LOCAL:1, 22, ARG:1, 0
    ;30고통쾌락경험
    SIF LOCAL:1 == ARG
        CALL COMMON_UP_EXP, LOCAL:1, 30, (ARG:1*ABL:(LOCAL:1):마조끼*(6-ABL:(LOCAL:1):정액중독)), 0

    ;노예 구슬 취득 처리
    IF LOCAL:1 != MASTER
        ;00쾌Ｃ
        SIF LOCAL:1 != ARG
            CALL COMMON_UP_JUEL, LOCAL:1, 0, 40*ARG:1*(1+ABL:(LOCAL:1):C감각)*(1+ABL:(LOCAL:2):기교), 0
        ;13욕망
        CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):욕망)*(1+ABL:(LOCAL:2):기교), 0
        ;14굴복
        SIF LOCAL:1 == ARG
            CALL COMMON_UP_JUEL, LOCAL:1, 14, 10*ARG:1*(1+ABL:(LOCAL:1):순종)*(1+ABL:(LOCAL:1):봉사정신), 0
    ENDIF
    PRINTW  
REND

;----------------------------
;스마타를 받는다
;----------------------------
@NIGHT_SEX_10, ARG, ARG:1
REPEAT 2
    LOCAL:1 = (COUNT == 0) ? ARG # TARGET
    LOCAL:2 = (COUNT == 0) ? TARGET # ARG
    
    ;02절정경험
    CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):C감각/6), 0
    ;03사정경험
    IF EXIST_PENIS(LOCAL:1)
        LOCAL = ARG:1*ABL:(LOCAL:1):C감각/6
        CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
        ;LUNATIC 이상은 사정할 때마다 체력이 감소
        CALL EXHAUST_EJAC, LOCAL:1, LOCAL
    ENDIF
    ;04정액경험
    SIF EXIST_PENIS(LOCAL:2)
        CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):C감각/6), 0
    ;12레즈경험
    SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:2):120 == 0
        CALL COMMON_UP_EXP, LOCAL:1, 12, 3*ARG:1, 0
    ;13BL경험
    SIF TALENT:(LOCAL:1):120 && TALENT:(LOCAL:2):120
        CALL COMMON_UP_EXP, LOCAL:1, 13, 3*ARG:1, 0
    ;20봉사쾌락경험
    SIF LOCAL:1 == ARG
        CALL COMMON_UP_EXP, LOCAL:1, 20, ARG:1*ABL:(LOCAL:1):C감각, 0
    ;23키스경험
    CALL COMMON_UP_EXP, LOCAL:1, 23, ARG:1/3, 0
    ;44B쾌락경험
    SIF LOCAL:1 == ARG && TALENT:(LOCAL:1):120 == 0
        CALL COMMON_UP_EXP, LOCAL:1, 44, (ARG:1*ABL:(LOCAL:1):B감각/2), 0

    ;노예 구슬 취득 처리
    IF LOCAL:1 != MASTER
        ;00쾌Ｃ
        CALL COMMON_UP_JUEL, LOCAL:1, 0, 40*ARG:1*(1+ABL:(LOCAL:1):C감각)*(1+ABL:(LOCAL:2):기교), 0
        ;03쾌Ｂ
        IF LOCAL:1 == ARG
            SIF TALENT:(LOCAL:1):120 == 0
                CALL COMMON_UP_JUEL, LOCAL:1, 3, 20*ARG:1*(1+ABL:(LOCAL:1):B감각)*(1+ABL:(LOCAL:2):기교), 0
        ENDIF
        ;12순종
        SIF ARG == MASTER
            CALL COMMON_UP_JUEL, LOCAL:1, 12, 20*ARG:1*(1+ABL:(LOCAL:1):순종)*(1+ABL:(LOCAL:1):봉사정신), 0
        ;13욕망
        CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):욕망)*(1+ABL:(LOCAL:2):기교), 0
        ;14굴복
        SIF LOCAL:1 == TARGET
            CALL COMMON_UP_JUEL, LOCAL:1, 14, 10*ARG:1*(1+ABL:(LOCAL:1):순종)*(1+ABL:(LOCAL:1):봉사정신), 0
    ENDIF
    PRINTW  
REND

;----------------------------
;Ｖにいれさせて貰う
;----------------------------
@NIGHT_SEX_11, ARG, ARG:1
REPEAT 2
    LOCAL:1 = (COUNT == 0) ? ARG # TARGET
    LOCAL:2 = (COUNT == 0) ? TARGET # ARG
    
    ;00V경험
    SIF LOCAL:1 == ARG && TALENT:(LOCAL:1):120 == 0
        CALL COMMON_UP_EXP, LOCAL:1, 0, ARG:1, 0
    ;02절정경험
    IF LOCAL:1 == ARG
        CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):V감각/6), 0
    ELSE
        CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):C감각/6), 0
    ENDIF
    ;03사정경험
    IF EXIST_PENIS(LOCAL:1)
        IF LOCAL:1 == ARG
            LOCAL = ARG:1*ABL:(LOCAL:1):V감각/6
            CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
            ;LUNATIC 이상은 사정할 때마다 체력이 감소
            CALL EXHAUST_EJAC, LOCAL:1, LOCAL
        ELSE
            LOCAL = ARG:1*ABL:(LOCAL:1):C감각/6
            CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
            ;LUNATIC 이상은 사정할 때마다 체력이 감소
            CALL EXHAUST_EJAC, LOCAL:1, LOCAL
        ENDIF
    ENDIF
    ;04정액경험
    IF EXIST_PENIS(LOCAL:2)
        IF LOCAL:2 == ARG
            CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):V감각/6), 0
        ELSE
            CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):C감각/6), 0
        ENDIF
    ENDIF
    ;12레즈경험
    SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:2):120 == 0
        CALL COMMON_UP_EXP, LOCAL:1, 12, 3*ARG:1, 0
    ;13BL경험
    SIF TALENT:(LOCAL:1):120 && TALENT:(LOCAL:2):120
        CALL COMMON_UP_EXP, LOCAL:1, 13, 3*ARG:1, 0
    ;20봉사쾌락경험
    SIF LOCAL:1 == ARG
        CALL COMMON_UP_EXP, LOCAL:1, 20, ARG:1*ABL:(LOCAL:1):V감각, 0

    ;노예 구슬 취득 처리
    IF LOCAL:1 != MASTER
        ;00쾌Ｃ
        SIF LOCAL:1 != ARG
            CALL COMMON_UP_JUEL, LOCAL:1, 0, 40*ARG:1*(1+ABL:(LOCAL:1):C감각)*(1+ABL:(LOCAL:2):기교), 0
        ;01쾌Ｖ
        SIF LOCAL:1 == ARG && TALENT:(LOCAL:1):120 == 0
            CALL COMMON_UP_JUEL, LOCAL:1, 1, 40*ARG:1*(1+ABL:(LOCAL:1):V감각)*(1+ABL:(LOCAL:2):기교), 0
        ;12순종
        SIF ARG == MASTER
            CALL COMMON_UP_JUEL, LOCAL:1, 12, 20*ARG:1*(1+ABL:(LOCAL:1):순종)*(1+ABL:(LOCAL:1):봉사정신), 0
        ;13욕망
        CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):욕망)*(1+ABL:(LOCAL:2):기교), 0
        ;14굴복
        SIF LOCAL:1 == TARGET
            CALL COMMON_UP_JUEL, LOCAL:1, 14, 10*ARG:1*(1+ABL:(LOCAL:1):순종)*(1+ABL:(LOCAL:1):봉사정신), 0
    ENDIF
    PRINTW  
REND

;----------------------------
;Ａにいれさせて貰う
;----------------------------
@NIGHT_SEX_12, ARG, ARG:1
REPEAT 2
    LOCAL:1 = (COUNT == 0) ? ARG # TARGET
    LOCAL:2 = (COUNT == 0) ? TARGET # ARG
    
    ;01A경험
    SIF LOCAL:1 == ARG
        CALL COMMON_UP_EXP, LOCAL:1, 1, ARG:1, 0
    ;02절정경험
    IF LOCAL:1 == ARG
        CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):A감각/6), 0
    ELSE
        CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):C감각/6), 0
    ENDIF
    ;03사정경험
    IF EXIST_PENIS(LOCAL:1)
        IF LOCAL:1 == ARG
            LOCAL = ARG:1*ABL:(LOCAL:1):A감각/6
            CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
            ;LUNATIC 이상은 사정할 때마다 체력이 감소
            CALL EXHAUST_EJAC, LOCAL:1, LOCAL
        ELSE
            LOCAL = ARG:1*ABL:(LOCAL:1):C감각/6
            CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
            ;LUNATIC 이상은 사정할 때마다 체력이 감소
            CALL EXHAUST_EJAC, LOCAL:1, LOCAL
        ENDIF
    ENDIF
    ;04정액경험
    IF EXIST_PENIS(LOCAL:2)
        IF LOCAL:2 == ARG
            CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):A감각/6), 0
        ELSE
            CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):C감각/6), 0
        ENDIF
    ENDIF
    ;12레즈경험
    SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:2):120 == 0
        CALL COMMON_UP_EXP, LOCAL:1, 12, 3*ARG:1, 0
    ;13BL경험
    SIF TALENT:(LOCAL:1):120 && TALENT:(LOCAL:2):120
        CALL COMMON_UP_EXP, LOCAL:1, 13, 3*ARG:1, 0
    ;20봉사쾌락경험
    SIF LOCAL:1 == ARG
        CALL COMMON_UP_EXP, LOCAL:1, 20, ARG:1*ABL:(LOCAL:1):A감각, 0
    ;30고통쾌락경험
    SIF LOCAL:1 == ARG
        CALL COMMON_UP_EXP, LOCAL:1, 30, ARG:1*ABL:(LOCAL:1):마조끼*(6-ABL:(LOCAL:1):A감각), 0
    ;43A쾌락경험
    SIF LOCAL:1 == ARG
        CALL COMMON_UP_EXP, LOCAL:1, 43, ARG:1*ABL:(LOCAL:1):A감각, 0

    ;노예 구슬 취득 처리
    IF LOCAL:1 != MASTER
        ;00쾌Ｃ
        SIF LOCAL:1 != ARG
            CALL COMMON_UP_JUEL, LOCAL:1, 0, 40*ARG:1*(1+ABL:(LOCAL:1):C감각)*(1+ABL:(LOCAL:2):기교), 0
        ;02쾌Ａ
        SIF LOCAL:1 == ARG
            CALL COMMON_UP_JUEL, LOCAL:1, 2, 40*ARG:1*(1+ABL:(LOCAL:1):A감각)*(1+ABL:(LOCAL:2):기교), 0
        ;12순종
        SIF ARG == MASTER
            CALL COMMON_UP_JUEL, LOCAL:1, 12, 20*ARG:1*(1+ABL:(LOCAL:1):순종)*(1+ABL:(LOCAL:1):봉사정신), 0
        ;13욕망
        CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):욕망)*(1+ABL:(LOCAL:2):기교), 0
        ;14굴복
        SIF LOCAL:1 == TARGET
            CALL COMMON_UP_JUEL, LOCAL:1, 14, 10*ARG:1*(1+ABL:(LOCAL:1):순종)*(1+ABL:(LOCAL:1):봉사정신), 0
    ENDIF
    PRINTW  
REND

;----------------------------
;パイズリして貰う
;----------------------------
@NIGHT_SEX_13, ARG, ARG:1
REPEAT 2
    LOCAL:1 = (COUNT == 0) ? ARG # TARGET
    LOCAL:2 = (COUNT == 0) ? TARGET # ARG
    
    ;02절정경험
    IF LOCAL:1 == ARG
        CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):B감각/6), 0
    ELSE
        CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):C감각/6), 0
    ENDIF
    ;03사정경험
    IF EXIST_PENIS(LOCAL:1)
        IF LOCAL:1 == ARG
            LOCAL = ARG:1*ABL:(LOCAL:1):B감각/6
            CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
            ;LUNATIC 이상은 사정할 때마다 체력이 감소
            CALL EXHAUST_EJAC, LOCAL:1, LOCAL
        ELSE
            LOCAL = ARG:1*ABL:(LOCAL:1):C감각/6
            CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
            ;LUNATIC 이상은 사정할 때마다 체력이 감소
            CALL EXHAUST_EJAC, LOCAL:1, LOCAL
        ENDIF
    ENDIF
    ;04정액경험
    IF EXIST_PENIS(LOCAL:2)
        IF LOCAL:2 == ARG
            CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):B감각/6), 0
        ELSE
            CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):C감각/6), 0
        ENDIF
    ENDIF
;    ;08정음절정경험
;    SIF EXIST_PENIS(LOCAL:2)
;        CALL COMMON_UP_EXP, LOCAL:1, 8, (ARG:1*ABL:(LOCAL:1):정액중독*ABL:(LOCAL:2):C감각/72), 0
    ;12레즈경험
    SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:2):120 == 0
        CALL COMMON_UP_EXP, LOCAL:1, 12, 3*ARG:1, 0
    ;13BL경험
    SIF TALENT:(LOCAL:1):120 && TALENT:(LOCAL:2):120
        CALL COMMON_UP_EXP, LOCAL:1, 13, 3*ARG:1, 0
    ;20봉사쾌락경험
    SIF LOCAL:1 == ARG
        CALL COMMON_UP_EXP, LOCAL:1, 20, ARG:1*ABL:(LOCAL:1):B감각, 0
    ;22펠라경험
    SIF LOCAL:1 == ARG
        CALL COMMON_UP_EXP, LOCAL:1, 22, ARG:1/2, 0
    ;44B쾌락경험
    SIF LOCAL:1 == ARG
        CALL COMMON_UP_EXP, LOCAL:1, 44, ARG:1*ABL:(LOCAL:1):B감각, 0

    ;노예 구슬 취득 처리
    IF LOCAL:1 != MASTER
        ;00쾌Ｃ
        SIF LOCAL:1 != ARG
            CALL COMMON_UP_JUEL, LOCAL:1, 0, 40*ARG:1*(1+ABL:(LOCAL:1):C감각)*(1+ABL:(LOCAL:2):기교), 0
        ;03쾌Ｂ
        IF LOCAL:1 == ARG
            IF TALENT:(LOCAL:1):120 == 0
                CALL COMMON_UP_JUEL, LOCAL:1, 3, 40*ARG:1*(1+ABL:(LOCAL:1):B감각)*(1+ABL:(LOCAL:2):기교), 0
            ELSE
                CALL COMMON_UP_JUEL, LOCAL:1, 3, 20*ARG:1*(1+ABL:(LOCAL:1):B감각)*(1+ABL:(LOCAL:2):기교), 0
            ENDIF
        ENDIF
        ;12순종
        SIF ARG == MASTER
            CALL COMMON_UP_JUEL, LOCAL:1, 12, 20*ARG:1*(1+ABL:(LOCAL:1):순종)*(1+ABL:(LOCAL:1):봉사정신), 0
        ;13욕망
        CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):욕망)*(1+ABL:(LOCAL:2):기교), 0
        ;14굴복
        SIF LOCAL:1 == TARGET
            CALL COMMON_UP_JUEL, LOCAL:1, 14, 10*ARG:1*(1+ABL:(LOCAL:1):순종)*(1+ABL:(LOCAL:1):봉사정신), 0
    ENDIF
    PRINTW  
REND

;----------------------------
;펠라してもらう
;----------------------------
@NIGHT_SEX_14, ARG, ARG:1
REPEAT 2
    LOCAL:1 = (COUNT == 0) ? ARG # TARGET
    LOCAL:2 = (COUNT == 0) ? TARGET # ARG
    
    ;02절정경험
    IF LOCAL:1 == ARG
        CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):정액중독*ABL:(LOCAL:2):C감각/36), 0
    ELSE
        CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):C감각/6), 0
    ENDIF
    ;03사정경험
    IF EXIST_PENIS(LOCAL:1)
        IF LOCAL:1 == ARG
            LOCAL = ARG:1*ABL:(LOCAL:1):정액중독*ABL:(LOCAL:2):C감각/36
            CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
            ;LUNATIC 이상은 사정할 때마다 체력이 감소
            CALL EXHAUST_EJAC, LOCAL:1, LOCAL
        ELSE
            LOCAL = ARG:1*ABL:(LOCAL:1):C감각/6
            CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
            ;LUNATIC 이상은 사정할 때마다 체력이 감소
            CALL EXHAUST_EJAC, LOCAL:1, LOCAL
        ENDIF
    ENDIF
    ;04정액경험
    IF EXIST_PENIS(LOCAL:2)
        IF LOCAL:2 == ARG
            CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):정액중독*ABL:(LOCAL:1):C감각/36), 0
        ELSE
            CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):C감각/6), 0
        ENDIF
    ENDIF
;    ;08정음절정경험
;    SIF EXIST_PENIS(LOCAL:2)
;        CALL COMMON_UP_EXP, LOCAL:1, 8, (ARG:1*ABL:(LOCAL:1):정액중독*ABL:(LOCAL:2):C감각/36), 0
    ;12레즈경험
    SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:2):120 == 0
        CALL COMMON_UP_EXP, LOCAL:1, 12, 3*ARG:1, 0
    ;13BL경험
    SIF TALENT:(LOCAL:1):120 && TALENT:(LOCAL:2):120
        CALL COMMON_UP_EXP, LOCAL:1, 13, 3*ARG:1, 0
    ;20봉사쾌락경험
    SIF LOCAL:1 == ARG
        CALL COMMON_UP_EXP, LOCAL:1, 20, ARG:1*ABL:(LOCAL:1):정액중독, 0
    ;22펠라경험
    SIF LOCAL:1 == ARG
        CALL COMMON_UP_EXP, LOCAL:1, 22, ARG:1, 0

    ;노예 구슬 취득 처리
    IF LOCAL:1 != MASTER
        ;00쾌Ｃ
        SIF LOCAL:1 != ARG
            CALL COMMON_UP_JUEL, LOCAL:1, 0, 40*ARG:1*(1+ABL:(LOCAL:1):C감각)*(1+ABL:(LOCAL:2):기교), 0
        ;12순종
        SIF ARG == MASTER
            CALL COMMON_UP_JUEL, LOCAL:1, 12, 20*ARG:1*(1+ABL:(LOCAL:1):순종)*(1+ABL:(LOCAL:1):봉사정신), 0
        ;13욕망
        CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):욕망)*(1+ABL:(LOCAL:2):기교), 0
        ;14굴복
        SIF LOCAL:1 == TARGET
            CALL COMMON_UP_JUEL, LOCAL:1, 14, 10*ARG:1*(1+ABL:(LOCAL:1):순종)*(1+ABL:(LOCAL:1):봉사정신), 0
    ENDIF
    PRINTW  
REND

;----------------------------
;手淫して貰う
;----------------------------
@NIGHT_SEX_15, ARG, ARG:1
REPEAT 2
    LOCAL:1 = (COUNT == 0) ? ARG # TARGET
    LOCAL:2 = (COUNT == 0) ? TARGET # ARG
    
    ;02절정경험
    SIF LOCAL:1 == TARGET
        CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):C감각/6), 0
    ;03사정경험
    IF EXIST_PENIS(LOCAL:1)
        IF LOCAL:1 != ARG
            LOCAL = ARG:1*ABL:(LOCAL:1):C감각/6
            CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
            ;LUNATIC 이상은 사정할 때마다 체력이 감소
            CALL EXHAUST_EJAC, LOCAL:1, LOCAL
        ENDIF
    ENDIF
    ;04정액경험
    IF EXIST_PENIS(LOCAL:2)
        SIF LOCAL:2 != ARG
            CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):C감각/6), 0
    ENDIF
    ;12레즈경험
    SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:2):120 == 0
        CALL COMMON_UP_EXP, LOCAL:1, 12, 3*ARG:1, 0
    ;13BL경험
    SIF TALENT:(LOCAL:1):120 && TALENT:(LOCAL:2):120
        CALL COMMON_UP_EXP, LOCAL:1, 13, 3*ARG:1, 0

    ;노예 구슬 취득 처리
    IF LOCAL:1 != MASTER
        ;00쾌Ｃ
        SIF LOCAL:1 != ARG
            CALL COMMON_UP_JUEL, LOCAL:1, 0, 40*ARG:1*(1+ABL:(LOCAL:1):C감각)*(1+ABL:(LOCAL:2):기교), 0
        ;12순종
        SIF ARG == MASTER
            CALL COMMON_UP_JUEL, LOCAL:1, 12, 20*ARG:1*(1+ABL:(LOCAL:1):순종)*(1+ABL:(LOCAL:1):봉사정신), 0
        ;13욕망
        CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):욕망)*(1+ABL:(LOCAL:2):기교), 0
        ;14굴복
        SIF LOCAL:1 != ARG
            CALL COMMON_UP_JUEL, LOCAL:1, 14, 10*ARG:1*(1+ABL:(LOCAL:1):순종)*(1+ABL:(LOCAL:1):봉사정신), 0
    ENDIF
    PRINTW  
REND

;----------------------------
;自慰させられる
;----------------------------
@NIGHT_SEX_19, ARG, ARG:1
REPEAT 2
    LOCAL:1 = (COUNT == 0) ? ARG # TARGET
    LOCAL:2 = (COUNT == 0) ? TARGET # ARG
    
    ;02절정경험
    SIF LOCAL:1 != ARG
        CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):C감각/6), 0
    ;03사정경험
    IF EXIST_PENIS(LOCAL:1)
        IF LOCAL:1 != ARG
            LOCAL = ARG:1*ABL:(LOCAL:1):C감각/6
            CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
            ;LUNATIC 이상은 사정할 때마다 체력이 감소
            CALL EXHAUST_EJAC, LOCAL:1, LOCAL
        ENDIF
    ENDIF
    ;04정액경험
    IF EXIST_PENIS(LOCAL:2)
        SIF LOCAL:2 != ARG
            CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):C감각/6), 0
    ENDIF
    ;10自慰경험
    SIF LOCAL:1 != ARG
        CALL COMMON_UP_EXP, LOCAL:1, 10, ARG:1, 0
    ;11調教自慰경험
    SIF LOCAL:1 != ARG
        CALL COMMON_UP_EXP, LOCAL:1, 11, ARG:1, 0
    ;12레즈경험
    SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:2):120 == 0
        CALL COMMON_UP_EXP, LOCAL:1, 12, 3*ARG:1, 0
    ;13BL경험
    SIF TALENT:(LOCAL:1):120 && TALENT:(LOCAL:2):120
        CALL COMMON_UP_EXP, LOCAL:1, 13, 3*ARG:1, 0
    ;44B쾌락경험
    SIF LOCAL:1 != ARG && TALENT:(LOCAL:1):120 == 0
        CALL COMMON_UP_EXP, LOCAL:1, 44, (ARG:1*ABL:(LOCAL:1):B감각/2), 0

    ;노예 구슬 취득 처리
    IF LOCAL:1 != MASTER
        ;00쾌Ｃ
        SIF LOCAL:1 != ARG
            CALL COMMON_UP_JUEL, LOCAL:1, 0, 40*ARG:1*(1+ABL:(LOCAL:1):C감각)*(1+ABL:(LOCAL:2):기교), 0
        ;03쾌B
        IF LOCAL:1 != ARG
            SIF TALENT:(LOCAL:1):120 == 0
                CALL COMMON_UP_JUEL, LOCAL:1, 3, 40*ARG:1*(1+ABL:(LOCAL:1):B감각)*(1+ABL:(LOCAL:2):기교), 0
        ENDIF
        ;12순종
        SIF ARG == MASTER
            CALL COMMON_UP_JUEL, LOCAL:1, 12, 20*ARG:1*(1+ABL:(LOCAL:1):순종)*(1+ABL:(LOCAL:1):봉사정신), 0
        ;13욕망
        CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):욕망)*(1+ABL:(LOCAL:2):기교), 0
        ;14굴복
        SIF LOCAL:1 != ARG
            CALL COMMON_UP_JUEL, LOCAL:1, 14, 10*ARG:1*(1+ABL:(LOCAL:1):순종)*(1+ABL:(LOCAL:1):봉사정신), 0
        ;15恥情
        SIF LOCAL:1 != ARG
            CALL COMMON_UP_JUEL, LOCAL:1, 15, 20*ARG:1*(6-ABL:(LOCAL:1):노출증), 0
    ENDIF
    PRINTW  
REND

;============================
;奴隷の膣
;============================
;----------------------------
;逆レイプ
;----------------------------
@NIGHT_SEX_100, ARG, ARG:1
REPEAT 2
    LOCAL:1 = (COUNT == 0) ? ARG # TARGET
    LOCAL:2 = (COUNT == 0) ? TARGET # ARG
    
    ;00V경험
    SIF LOCAL:1 != ARG && TALENT:(LOCAL:1):120 == 0
        CALL COMMON_UP_EXP, LOCAL:1, 0, ARG:1, 0
    ;02절정경험
    IF LOCAL:1 == ARG
        CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):C감각/6), 0
    ELSE
        CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):V감각/6), 0
    ENDIF
    ;03사정경험
    IF EXIST_PENIS(LOCAL:1)
        IF LOCAL:1 == ARG
            LOCAL = ARG:1*ABL:(LOCAL:1):C감각/6
            CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
            ;LUNATIC 이상은 사정할 때마다 체력이 감소
            CALL EXHAUST_EJAC, LOCAL:1, LOCAL
        ELSE
            LOCAL = ARG:1*ABL:(LOCAL:1):V감각/6
            CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
            ;LUNATIC 이상은 사정할 때마다 체력이 감소
            CALL EXHAUST_EJAC, LOCAL:1, LOCAL
        ENDIF
    ENDIF
    ;04정액경험
    IF EXIST_PENIS(LOCAL:2)
        IF LOCAL:2 == ARG
            CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):C감각/6), 0
        ELSE
            CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):V감각/6), 0
        ENDIF
    ENDIF
    ;12레즈경험
    SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:2):120 == 0
        CALL COMMON_UP_EXP, LOCAL:1, 12, 3*ARG:1, 0
    ;13BL경험
    SIF TALENT:(LOCAL:1):120 && TALENT:(LOCAL:2):120
        CALL COMMON_UP_EXP, LOCAL:1, 13, 3*ARG:1, 0
    ;20봉사쾌락경험
    SIF LOCAL:1 == ARG
        CALL COMMON_UP_EXP, LOCAL:1, 20, ARG:1*ABL:(LOCAL:1):C감각, 0

    ;노예 구슬 취득 처리
    IF LOCAL:1 != MASTER
        ;00쾌Ｃ
        SIF LOCAL:1 == ARG
            CALL COMMON_UP_JUEL, LOCAL:1, 0, 40*ARG:1*(1+ABL:(LOCAL:1):C감각)*(1+ABL:(LOCAL:2):기교), 0
        ;01쾌Ｖ
        SIF LOCAL:1 != ARG && TALENT:(LOCAL:1):120 == 0
            CALL COMMON_UP_JUEL, LOCAL:1, 1, 40*ARG:1*(1+ABL:(LOCAL:1):V감각)*(1+ABL:(LOCAL:2):기교), 0
        ;13욕망
        CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):욕망)*(1+ABL:(LOCAL:2):기교), 0
    ENDIF
    PRINTW  
REND

;----------------------------
;Ｖに挿入してもらう
;----------------------------
@NIGHT_SEX_110, ARG, ARG:1
REPEAT 2
    LOCAL:1 = (COUNT == 0) ? ARG # TARGET
    LOCAL:2 = (COUNT == 0) ? TARGET # ARG
    
    ;00V경험
    SIF LOCAL:1 != ARG && TALENT:(LOCAL:1):120 == 0
        CALL COMMON_UP_EXP, LOCAL:1, 0, ARG:1, 0
    ;02절정경험
    IF LOCAL:1 == ARG
        CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):C감각/6), 0
    ELSE
        CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):V감각/6), 0
    ENDIF
    ;03사정경험
    IF EXIST_PENIS(LOCAL:1)
        IF LOCAL:1 == ARG
            LOCAL = ARG:1*ABL:(LOCAL:1):C감각/6
            CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
            ;LUNATIC 이상은 사정할 때마다 체력이 감소
            CALL EXHAUST_EJAC, LOCAL:1, LOCAL
        ELSE
            LOCAL = ARG:1*ABL:(LOCAL:1):V감각/6
            CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
            ;LUNATIC 이상은 사정할 때마다 체력이 감소
            CALL EXHAUST_EJAC, LOCAL:1, LOCAL
        ENDIF
    ENDIF
    ;04정액경험
    IF EXIST_PENIS(LOCAL:2)
        IF LOCAL:2 == ARG
            CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):C감각/6), 0
        ELSE
            CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):V감각/6), 0
        ENDIF
    ENDIF
    ;12레즈경험
    SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:2):120 == 0
        CALL COMMON_UP_EXP, LOCAL:1, 12, 3*ARG:1, 0
    ;13BL경험
    SIF TALENT:(LOCAL:1):120 && TALENT:(LOCAL:2):120
        CALL COMMON_UP_EXP, LOCAL:1, 13, 3*ARG:1, 0
    ;23키스경험
    CALL COMMON_UP_EXP, LOCAL:1, 23, ARG:1/3, 0
    ;44B쾌락경험
    SIF LOCAL:1 != ARG && TALENT:(LOCAL:1):120 == 0
        CALL COMMON_UP_EXP, LOCAL:1, 44, (ARG:1*ABL:(LOCAL:1):B감각/2), 0

    ;노예 구슬 취득 처리
    IF LOCAL:1 != MASTER
        ;00쾌Ｃ
        SIF LOCAL:1 == ARG
            CALL COMMON_UP_JUEL, LOCAL:1, 0, 40*ARG:1*(1+ABL:(LOCAL:1):C감각)*(1+ABL:(LOCAL:2):기교), 0
        ;01쾌Ｖ
        SIF LOCAL:1 != ARG && TALENT:(LOCAL:1):120 == 0
            CALL COMMON_UP_JUEL, LOCAL:1, 1, 40*ARG:1*(1+ABL:(LOCAL:1):V감각)*(1+ABL:(LOCAL:2):기교), 0
        ;03쾌Ｂ
        IF LOCAL:1 != ARG
            SIF TALENT:(LOCAL:1):120 == 0
                CALL COMMON_UP_JUEL, LOCAL:1, 3, 20*ARG:1*(1+ABL:(LOCAL:1):B감각)*(1+ABL:(LOCAL:2):기교), 0
        ENDIF
        ;12순종
        SIF ARG == MASTER
            CALL COMMON_UP_JUEL, LOCAL:1, 12, 20*ARG:1*(1+ABL:(LOCAL:1):순종)*(1+ABL:(LOCAL:1):봉사정신), 0
        ;13욕망
        CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):욕망)*(1+ABL:(LOCAL:2):기교), 0
        ;14굴복
        SIF LOCAL:1 != ARG
            CALL COMMON_UP_JUEL, LOCAL:1, 14, 10*ARG:1*(1+ABL:(LOCAL:1):순종)*(1+ABL:(LOCAL:1):봉사정신), 0
    ENDIF
    PRINTW  
REND

;----------------------------
;バイブや指で慰めて貰う
;----------------------------
@NIGHT_SEX_115, ARG, ARG:1
REPEAT 2
    LOCAL:1 = (COUNT == 0) ? ARG # TARGET
    LOCAL:2 = (COUNT == 0) ? TARGET # ARG
    
    ;00V경험
    SIF LOCAL:1 != ARG && TALENT:(LOCAL:1):120 == 0
        CALL COMMON_UP_EXP, LOCAL:1, 0, ARG:1, 0
    ;02절정경험
    SIF LOCAL:1 != ARG
        CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):V감각/6), 0
    ;03사정경험
    IF EXIST_PENIS(LOCAL:1)
        IF LOCAL:1 != ARG
            LOCAL = ARG:1*ABL:(LOCAL:1):V감각/6
            CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
            ;LUNATIC 이상은 사정할 때마다 체력이 감소
            CALL EXHAUST_EJAC, LOCAL:1, LOCAL
        ENDIF
    ENDIF
    ;04정액경험
    IF EXIST_PENIS(LOCAL:2)
        SIF LOCAL:2 != ARG
            CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):V감각/6), 0
    ENDIF
    ;12레즈경험
    SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:2):120 == 0
        CALL COMMON_UP_EXP, LOCAL:1, 12, 3*ARG:1, 0
    ;13BL경험
    SIF TALENT:(LOCAL:1):120 && TALENT:(LOCAL:2):120
        CALL COMMON_UP_EXP, LOCAL:1, 13, 3*ARG:1, 0
    ;23키스경험
    CALL COMMON_UP_EXP, LOCAL:1, 23, ARG:1/3, 0

    ;노예 구슬 취득 처리
    IF LOCAL:1 != MASTER
        ;01쾌Ｖ
        SIF LOCAL:1 != ARG && TALENT:(LOCAL:1):120 == 0
            CALL COMMON_UP_JUEL, LOCAL:1, 1, 40*ARG:1*(1+ABL:(LOCAL:1):V감각)*(1+ABL:(LOCAL:2):기교), 0
        ;12순종
        SIF ARG == MASTER
            CALL COMMON_UP_JUEL, LOCAL:1, 12, 20*ARG:1*(1+ABL:(LOCAL:1):순종)*(1+ABL:(LOCAL:1):봉사정신), 0
        ;13욕망
        CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):욕망)*(1+ABL:(LOCAL:2):기교), 0
        ;14굴복
        SIF LOCAL:1 != ARG
            CALL COMMON_UP_JUEL, LOCAL:1, 14, 10*ARG:1*(1+ABL:(LOCAL:1):순종)*(1+ABL:(LOCAL:1):봉사정신), 0
    ENDIF
    PRINTW  
REND

;----------------------------
;自慰させられる
;----------------------------
@NIGHT_SEX_119, ARG, ARG:1
REPEAT 2
    LOCAL:1 = (COUNT == 0) ? ARG # TARGET
    LOCAL:2 = (COUNT == 0) ? TARGET # ARG
    
    ;00V경험
    SIF LOCAL:1 != ARG && TALENT:(LOCAL:1):120 == 0
        CALL COMMON_UP_EXP, LOCAL:1, 0, ARG:1, 0
    ;02절정경험
    SIF LOCAL:1 != ARG
        CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):C감각/6), 0
    ;03사정경험
    IF EXIST_PENIS(LOCAL:1)
        IF LOCAL:1 != ARG
            LOCAL = ARG:1*ABL:(LOCAL:1):V감각/6
            CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
            ;LUNATIC 이상은 사정할 때마다 체력이 감소
            CALL EXHAUST_EJAC, LOCAL:1, LOCAL
        ENDIF
    ENDIF
    ;04정액경험
    IF EXIST_PENIS(LOCAL:2)
        SIF LOCAL:2 != ARG
            CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):V감각/6), 0
    ENDIF
    ;10自慰경험
    SIF LOCAL:1 != ARG
        CALL COMMON_UP_EXP, LOCAL:1, 10, ARG:1, 0
    ;11調教自慰경험
    SIF LOCAL:1 != ARG
        CALL COMMON_UP_EXP, LOCAL:1, 11, ARG:1, 0
    ;12레즈경험
    SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:2):120 == 0
        CALL COMMON_UP_EXP, LOCAL:1, 12, 3*ARG:1, 0
    ;13BL경험
    SIF TALENT:(LOCAL:1):120 && TALENT:(LOCAL:2):120
        CALL COMMON_UP_EXP, LOCAL:1, 13, 3*ARG:1, 0
    ;44B쾌락경험
    SIF LOCAL:1 != ARG && TALENT:(LOCAL:1):120 == 0
        CALL COMMON_UP_EXP, LOCAL:1, 44, (ARG:1*ABL:(LOCAL:1):B감각/2), 0

    ;노예 구슬 취득 처리
    IF LOCAL:1 != MASTER
        ;01쾌Ｖ
        SIF LOCAL:1 != ARG && TALENT:(LOCAL:1):120 == 0
            CALL COMMON_UP_JUEL, LOCAL:1, 1, 40*ARG:1*(1+ABL:(LOCAL:1):V감각)*(1+ABL:(LOCAL:2):기교), 0
        ;03쾌B
        IF LOCAL:1 != ARG
            SIF TALENT:(LOCAL:1):120 == 0
                CALL COMMON_UP_JUEL, LOCAL:1, 3, 40*ARG:1*(1+ABL:(LOCAL:1):B감각)*(1+ABL:(LOCAL:2):기교), 0
        ENDIF
        ;12순종
        SIF ARG == MASTER
            CALL COMMON_UP_JUEL, LOCAL:1, 12, 20*ARG:1*(1+ABL:(LOCAL:1):순종)*(1+ABL:(LOCAL:1):봉사정신), 0
        ;13욕망
        CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):욕망)*(1+ABL:(LOCAL:2):기교), 0
        ;14굴복
        SIF LOCAL:1 != ARG
            CALL COMMON_UP_JUEL, LOCAL:1, 14, 10*ARG:1*(1+ABL:(LOCAL:1):순종)*(1+ABL:(LOCAL:1):봉사정신), 0
    ENDIF
    PRINTW  
REND

;============================
;奴隷の尻穴
;============================
;----------------------------
;逆Ａレイプ
;----------------------------
@NIGHT_SEX_200, ARG, ARG:1
REPEAT 2
    LOCAL:1 = (COUNT == 0) ? ARG # TARGET
    LOCAL:2 = (COUNT == 0) ? TARGET # ARG
    
    ;01A경험
    SIF LOCAL:1 != ARG
        CALL COMMON_UP_EXP, LOCAL:1, 1, ARG:1, 0
    ;02절정경험
    IF LOCAL:1 == ARG
        CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):C감각/6), 0
    ELSE
        CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):A감각/6), 0
    ENDIF
    ;03사정경험
    IF EXIST_PENIS(LOCAL:1)
        IF LOCAL:1 == ARG
            LOCAL = ARG:1*ABL:(LOCAL:1):C감각/6
            CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
            ;LUNATIC 이상은 사정할 때마다 체력이 감소
            CALL EXHAUST_EJAC, LOCAL:1, LOCAL
        ELSE
            LOCAL = ARG:1*ABL:(LOCAL:1):A감각/6
            CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
            ;LUNATIC 이상은 사정할 때마다 체력이 감소
            CALL EXHAUST_EJAC, LOCAL:1, LOCAL
        ENDIF
    ENDIF
    ;04정액경험
    IF EXIST_PENIS(LOCAL:2)
        IF LOCAL:2 == ARG
            CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):C감각/6), 0
        ELSE
            CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):A감각/6), 0
        ENDIF
    ENDIF
    ;12레즈경험
    SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:2):120 == 0
        CALL COMMON_UP_EXP, LOCAL:1, 12, 3*ARG:1, 0
    ;13BL경험
    SIF TALENT:(LOCAL:1):120 && TALENT:(LOCAL:2):120
        CALL COMMON_UP_EXP, LOCAL:1, 13, 3*ARG:1, 0
    ;20봉사쾌락경험
    SIF LOCAL:1 == ARG
        CALL COMMON_UP_EXP, LOCAL:1, 20, ARG:1*ABL:(LOCAL:1):C감각, 0
    ;30고통쾌락경험
    SIF LOCAL:1 != ARG
        CALL COMMON_UP_EXP, LOCAL:1, 30, ARG:1*ABL:(LOCAL:1):마조끼*(6-ABL:(LOCAL:1):A감각), 0
    ;43A쾌락경험
    SIF LOCAL:1 != ARG
        CALL COMMON_UP_EXP, LOCAL:1, 43, ARG:1*ABL:(LOCAL:1):A감각, 0

    ;노예 구슬 취득 처리
    IF LOCAL:1 != MASTER
        ;00쾌Ｃ
        SIF LOCAL:1 == ARG
            CALL COMMON_UP_JUEL, LOCAL:1, 0, 40*ARG:1*(1+ABL:(LOCAL:1):C감각)*(1+ABL:(LOCAL:2):기교), 0
        ;02쾌Ａ
        SIF LOCAL:1 != ARG
            CALL COMMON_UP_JUEL, LOCAL:1, 2, 40*ARG:1*(1+ABL:(LOCAL:1):A감각)*(1+ABL:(LOCAL:2):기교), 0
        ;13욕망
        CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):욕망)*(1+ABL:(LOCAL:2):기교), 0
    ENDIF
    PRINTW  
REND

;----------------------------
;Ａに挿入してもらう
;----------------------------
@NIGHT_SEX_210, ARG, ARG:1
REPEAT 2
    LOCAL:1 = (COUNT == 0) ? ARG # TARGET
    LOCAL:2 = (COUNT == 0) ? TARGET # ARG
    
    ;01A경험
    SIF LOCAL:1 != ARG
        CALL COMMON_UP_EXP, LOCAL:1, 1, ARG:1, 0
    ;02절정경험
    IF LOCAL:1 == ARG
        CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):C감각/6), 0
    ELSE
        CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):A감각/6), 0
    ENDIF
    ;03사정경험
    IF EXIST_PENIS(LOCAL:1)
        IF LOCAL:1 == ARG
            LOCAL = ARG:1*ABL:(LOCAL:1):C감각/6
            CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
            ;LUNATIC 이상은 사정할 때마다 체력이 감소
            CALL EXHAUST_EJAC, LOCAL:1, LOCAL
        ELSE
            LOCAL = ARG:1*ABL:(LOCAL:1):A감각/6
            CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
            ;LUNATIC 이상은 사정할 때마다 체력이 감소
            CALL EXHAUST_EJAC, LOCAL:1, LOCAL
        ENDIF
    ENDIF
    ;04정액경험
    IF EXIST_PENIS(LOCAL:2)
        IF LOCAL:2 == ARG
            CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):C감각/6), 0
        ELSE
            CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):A감각/6), 0
        ENDIF
    ENDIF
    ;12레즈경험
    SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:2):120 == 0
        CALL COMMON_UP_EXP, LOCAL:1, 12, 3*ARG:1, 0
    ;13BL경험
    SIF TALENT:(LOCAL:1):120 && TALENT:(LOCAL:2):120
        CALL COMMON_UP_EXP, LOCAL:1, 13, 3*ARG:1, 0
    ;23키스경험
    CALL COMMON_UP_EXP, LOCAL:1, 23, ARG:1/3, 0
    ;30고통쾌락경험
    SIF LOCAL:1 != ARG
        CALL COMMON_UP_EXP, LOCAL:1, 30, ARG:1*ABL:(LOCAL:1):마조끼*(6-ABL:(LOCAL:1):A감각), 0
    ;43A쾌락경험
    SIF LOCAL:1 != ARG
        CALL COMMON_UP_EXP, LOCAL:1, 43, ARG:1*ABL:(LOCAL:1):A감각, 0
    ;44B쾌락경험
    SIF LOCAL:1 != ARG && TALENT:(LOCAL:1):120 == 0
        CALL COMMON_UP_EXP, LOCAL:1, 44, (ARG:1*ABL:(LOCAL:1):B감각/2), 0

    ;노예 구슬 취득 처리
    IF LOCAL:1 != MASTER
        ;00쾌Ｃ
        SIF LOCAL:1 == ARG
            CALL COMMON_UP_JUEL, LOCAL:1, 0, 40*ARG:1*(1+ABL:(LOCAL:1):C감각)*(1+ABL:(LOCAL:2):기교), 0
        ;02쾌Ａ
        SIF LOCAL:1 != ARG
            CALL COMMON_UP_JUEL, LOCAL:1, 2, 40*ARG:1*(1+ABL:(LOCAL:1):A감각)*(1+ABL:(LOCAL:2):기교), 0
        ;03쾌Ｂ
        IF LOCAL:1 != ARG
            SIF TALENT:(LOCAL:1):120 == 0
                CALL COMMON_UP_JUEL, LOCAL:1, 3, 20*ARG:1*(1+ABL:(LOCAL:1):B감각)*(1+ABL:(LOCAL:2):기교), 0
        ENDIF
        ;12순종
        SIF ARG == MASTER
            CALL COMMON_UP_JUEL, LOCAL:1, 12, 20*ARG:1*(1+ABL:(LOCAL:1):순종)*(1+ABL:(LOCAL:1):봉사정신), 0
        ;13욕망
        CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):욕망)*(1+ABL:(LOCAL:2):기교), 0
        ;14굴복
        SIF LOCAL:1 != ARG
            CALL COMMON_UP_JUEL, LOCAL:1, 14, 10*ARG:1*(1+ABL:(LOCAL:1):순종)*(1+ABL:(LOCAL:1):봉사정신), 0
    ENDIF
    PRINTW  
REND

;----------------------------
;Ａバイブや指で慰めて貰う
;----------------------------
@NIGHT_SEX_215, ARG, ARG:1
REPEAT 2
    LOCAL:1 = (COUNT == 0) ? ARG # TARGET
    LOCAL:2 = (COUNT == 0) ? TARGET # ARG
    
    ;01A경험
    SIF LOCAL:1 != ARG
        CALL COMMON_UP_EXP, LOCAL:1, 1, ARG:1, 0
    ;02절정경험
    SIF LOCAL:1 != ARG
        CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):A감각/6), 0
    ;03사정경험
    IF EXIST_PENIS(LOCAL:1)
        IF LOCAL:1 != ARG
            LOCAL = ARG:1*ABL:(LOCAL:1):A감각/6
            CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
            ;LUNATIC 이상은 사정할 때마다 체력이 감소
            CALL EXHAUST_EJAC, LOCAL:1, LOCAL
        ENDIF
    ENDIF
    ;04정액경험
    IF EXIST_PENIS(LOCAL:2)
        SIF LOCAL:2 != ARG
            CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):A감각/6), 0
    ENDIF
    ;12레즈경험
    SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:2):120 == 0
        CALL COMMON_UP_EXP, LOCAL:1, 12, 3*ARG:1, 0
    ;13BL경험
    SIF TALENT:(LOCAL:1):120 && TALENT:(LOCAL:2):120
        CALL COMMON_UP_EXP, LOCAL:1, 13, 3*ARG:1, 0
    ;30고통쾌락경험
    SIF LOCAL:1 != ARG
        CALL COMMON_UP_EXP, LOCAL:1, 30, ARG:1*ABL:(LOCAL:1):마조끼*(6-ABL:(LOCAL:1):A감각), 0
    ;43A쾌락경험
    SIF LOCAL:1 != ARG
        CALL COMMON_UP_EXP, LOCAL:1, 43, ARG:1*ABL:(LOCAL:1):A감각, 0

    ;노예 구슬 취득 처리
    IF LOCAL:1 != MASTER
        ;02쾌Ａ
        SIF LOCAL:1 != ARG
            CALL COMMON_UP_JUEL, LOCAL:1, 2, 40*ARG:1*(1+ABL:(LOCAL:1):A감각)*(1+ABL:(LOCAL:2):기교), 0
        ;12순종
        SIF ARG == MASTER
            CALL COMMON_UP_JUEL, LOCAL:1, 12, 20*ARG:1*(1+ABL:(LOCAL:1):순종)*(1+ABL:(LOCAL:1):봉사정신), 0
        ;13욕망
        CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):욕망)*(1+ABL:(LOCAL:2):기교), 0
        ;14굴복
        SIF LOCAL:1 != ARG
            CALL COMMON_UP_JUEL, LOCAL:1, 14, 10*ARG:1*(1+ABL:(LOCAL:1):순종)*(1+ABL:(LOCAL:1):봉사정신), 0
    ENDIF
    PRINTW  
REND

;----------------------------
;アナニーさせられる
;----------------------------
@NIGHT_SEX_219, ARG, ARG:1
REPEAT 2
    LOCAL:1 = (COUNT == 0) ? ARG # TARGET
    LOCAL:2 = (COUNT == 0) ? TARGET # ARG
    
    ;01A경험
    SIF LOCAL:1 != ARG
        CALL COMMON_UP_EXP, LOCAL:1, 1, ARG:1, 0
    ;02절정경험
    SIF LOCAL:1 != ARG
        CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):A감각/6), 0
    ;03사정경험
    IF EXIST_PENIS(LOCAL:1)
        IF LOCAL:1 != ARG
            LOCAL = ARG:1*ABL:(LOCAL:1):A감각/6
            CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
            ;LUNATIC 이상은 사정할 때마다 체력이 감소
            CALL EXHAUST_EJAC, LOCAL:1, LOCAL
        ENDIF
    ENDIF
    ;04정액경험
    IF EXIST_PENIS(LOCAL:2)
        SIF LOCAL:2 != ARG
            CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):A감각/6), 0
    ENDIF
    ;10自慰경험
    SIF LOCAL:1 != ARG
        CALL COMMON_UP_EXP, LOCAL:1, 10, ARG:1, 0
    ;11調教自慰경험
    SIF LOCAL:1 != ARG
        CALL COMMON_UP_EXP, LOCAL:1, 11, ARG:1, 0
    ;12레즈경험
    SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:2):120 == 0
        CALL COMMON_UP_EXP, LOCAL:1, 12, 3*ARG:1, 0
    ;13BL경험
    SIF TALENT:(LOCAL:1):120 && TALENT:(LOCAL:2):120
        CALL COMMON_UP_EXP, LOCAL:1, 13, 3*ARG:1, 0
    ;30고통쾌락경험
    SIF LOCAL:1 != ARG
        CALL COMMON_UP_EXP, LOCAL:1, 30, ARG:1*ABL:(LOCAL:1):마조끼*(6-ABL:(LOCAL:1):A감각), 0
    ;43A쾌락경험
    SIF LOCAL:1 != ARG
        CALL COMMON_UP_EXP, LOCAL:1, 43, ARG:1*ABL:(LOCAL:1):A감각, 0
    ;44B쾌락경험
    SIF LOCAL:1 != ARG && TALENT:(LOCAL:1):120 == 0
        CALL COMMON_UP_EXP, LOCAL:1, 44, ARG:1*ABL:(LOCAL:1):B감각, 0

    ;노예 구슬 취득 처리
    IF LOCAL:1 != MASTER
        ;02쾌Ａ
        SIF LOCAL:1 != ARG
            CALL COMMON_UP_JUEL, LOCAL:1, 2, 40*ARG:1*(1+ABL:(LOCAL:1):A감각)*(1+ABL:(LOCAL:2):기교), 0
        ;03쾌Ｂ
        IF LOCAL:1 != ARG
            SIF TALENT:(LOCAL:1):120 == 0
                CALL COMMON_UP_JUEL, LOCAL:1, 3, 40*ARG:1*(1+ABL:(LOCAL:1):B감각)*(1+ABL:(LOCAL:2):기교), 0
        ENDIF
        ;12순종
        SIF ARG == MASTER
            CALL COMMON_UP_JUEL, LOCAL:1, 12, 20*ARG:1*(1+ABL:(LOCAL:1):순종)*(1+ABL:(LOCAL:1):봉사정신), 0
        ;13욕망
        CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):욕망)*(1+ABL:(LOCAL:2):기교), 0
        ;14굴복
        SIF LOCAL:1 != ARG
            CALL COMMON_UP_JUEL, LOCAL:1, 14, 10*ARG:1*(1+ABL:(LOCAL:1):순종)*(1+ABL:(LOCAL:1):봉사정신), 0
        ;15恥情
        SIF LOCAL:1 != ARG
            CALL COMMON_UP_JUEL, LOCAL:1, 15, 20*ARG:1*(6-ABL:(LOCAL:1):노출증), 0
    ENDIF
    PRINTW  
REND

;============================
;奴隷の胸と陰核
;============================
;----------------------------
;強制素股する
;----------------------------
@NIGHT_SEX_300, ARG, ARG:1
REPEAT 2
    LOCAL:1 = (COUNT == 0) ? ARG # TARGET
    LOCAL:2 = (COUNT == 0) ? TARGET # ARG
    
    ;02절정경험
    CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):C감각/6), 0
    ;03사정경험
    IF EXIST_PENIS(LOCAL:1)
        LOCAL = ARG:1*ABL:(LOCAL:1):C감각/6
        CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
        ;LUNATIC 이상은 사정할 때마다 체력이 감소
        CALL EXHAUST_EJAC, LOCAL:1, LOCAL
    ENDIF
    ;04정액경험
    SIF EXIST_PENIS(LOCAL:2)
        CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):C감각/6), 0
    ;12레즈경험
    SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:2):120 == 0
        CALL COMMON_UP_EXP, LOCAL:1, 12, 3*ARG:1, 0
    ;13BL경험
    SIF TALENT:(LOCAL:1):120 && TALENT:(LOCAL:2):120
        CALL COMMON_UP_EXP, LOCAL:1, 13, 3*ARG:1, 0
    ;44B쾌락경험
    SIF LOCAL:1 == ARG && TALENT:(LOCAL:1):120 == 0
        CALL COMMON_UP_EXP, LOCAL:1, 44, (ARG:1*ABL:(LOCAL:1):B감각/2), 0

    ;노예 구슬 취득 처리
    IF LOCAL:1 != MASTER
        ;00쾌Ｃ
        CALL COMMON_UP_JUEL, LOCAL:1, 0, 40*ARG:1*(1+ABL:(LOCAL:1):C감각)*(1+ABL:(LOCAL:2):기교), 0
        ;03쾌Ｂ
        IF LOCAL:1 == ARG
            SIF TALENT:(LOCAL:1):120 == 0
                CALL COMMON_UP_JUEL, LOCAL:1, 3, 40*ARG:1*(1+ABL:(LOCAL:1):B감각)*(1+ABL:(LOCAL:2):기교), 0
        ENDIF
        ;13욕망
        CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):욕망)*(1+ABL:(LOCAL:2):기교), 0
    ENDIF
    PRINTW  
REND

;----------------------------
;強制貝あわせ
;----------------------------
@NIGHT_SEX_301, ARG, ARG:1
REPEAT 2
    LOCAL:1 = (COUNT == 0) ? ARG # TARGET
    LOCAL:2 = (COUNT == 0) ? TARGET # ARG
    
    ;02절정경험
    CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):C감각/6), 0
    ;03사정경험
    IF EXIST_PENIS(LOCAL:1)
        LOCAL = ARG:1*ABL:(LOCAL:1):C감각/6
        CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
        ;LUNATIC 이상은 사정할 때마다 체력이 감소
        CALL EXHAUST_EJAC, LOCAL:1, LOCAL
    ENDIF
    ;04정액경험
    SIF EXIST_PENIS(LOCAL:2)
        CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):C감각/6), 0
    ;12레즈경험
    SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:2):120 == 0
        CALL COMMON_UP_EXP, LOCAL:1, 12, 3*ARG:1, 0
    ;13BL경험
    SIF TALENT:(LOCAL:1):120 && TALENT:(LOCAL:2):120
        CALL COMMON_UP_EXP, LOCAL:1, 13, 3*ARG:1, 0
    ;20봉사쾌락경험
    SIF LOCAL:1 == ARG
        CALL COMMON_UP_EXP, LOCAL:1, 20, ARG:1*ABL:(LOCAL:1):C감각, 0
    ;44B쾌락경험
    SIF LOCAL:1 != ARG && TALENT:(LOCAL:1):120 == 0
        CALL COMMON_UP_EXP, LOCAL:1, 44, (ARG:1*ABL:(LOCAL:1):B감각/2), 0

    ;노예 구슬 취득 처리
    IF LOCAL:1 != MASTER
        ;00쾌Ｃ
        CALL COMMON_UP_JUEL, LOCAL:1, 0, 40*ARG:1*(1+ABL:(LOCAL:1):C감각)*(1+ABL:(LOCAL:2):기교), 0
        ;03쾌Ｂ
        IF LOCAL:1 != ARG
            SIF TALENT:(LOCAL:1):120 == 0
                CALL COMMON_UP_JUEL, LOCAL:1, 3, 40*ARG:1*(1+ABL:(LOCAL:1):B감각)*(1+ABL:(LOCAL:2):기교), 0
        ENDIF
        ;13욕망
        CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):욕망)*(1+ABL:(LOCAL:2):기교), 0
    ENDIF
    PRINTW  
REND

;----------------------------
;クンニ強制+自慰
;----------------------------
@NIGHT_SEX_302, ARG, ARG:1
REPEAT 2
    LOCAL:1 = (COUNT == 0) ? ARG # TARGET
    LOCAL:2 = (COUNT == 0) ? TARGET # ARG
    
    ;02절정경험
    SIF LOCAL:1 != ARG
        CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):C감각/6), 0
    ;03사정경험
    IF EXIST_PENIS(LOCAL:1)
        IF LOCAL:1 != ARG
            LOCAL = ARG:1*ABL:(LOCAL:1):C감각/6
            CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
            ;LUNATIC 이상은 사정할 때마다 체력이 감소
            CALL EXHAUST_EJAC, LOCAL:1, LOCAL
        ENDIF
    ENDIF
    ;04정액경험
    IF EXIST_PENIS(LOCAL:2)
        SIF LOCAL:2 != ARG
            CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):C감각/6), 0
    ENDIF
    ;10自慰경험
    SIF LOCAL:1 != ARG
        CALL COMMON_UP_EXP, LOCAL:1, 10, ARG:1, 0
    ;12레즈경험
    SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:2):120 == 0
        CALL COMMON_UP_EXP, LOCAL:1, 12, 3*ARG:1, 0
    ;13BL경험
    SIF TALENT:(LOCAL:1):120 && TALENT:(LOCAL:2):120
        CALL COMMON_UP_EXP, LOCAL:1, 13, 3*ARG:1, 0
    ;44B쾌락경험
    SIF LOCAL:1 != ARG
        CALL COMMON_UP_EXP, LOCAL:1, 44, ARG:1*ABL:(LOCAL:1):B감각, 0

    ;노예 구슬 취득 처리
    IF LOCAL:1 != MASTER
        ;00쾌Ｃ
        SIF LOCAL:1 != ARG
            CALL COMMON_UP_JUEL, LOCAL:1, 0, 40*ARG:1*(1+ABL:(LOCAL:1):C감각)*(1+ABL:(LOCAL:2):기교), 0
        ;03쾌Ｂ
        IF LOCAL:1 != ARG
            IF TALENT:(LOCAL:1):120 == 0
                CALL COMMON_UP_JUEL, LOCAL:1, 3, 40*ARG:1*(1+ABL:(LOCAL:1):B감각)*(1+ABL:(LOCAL:2):기교), 0
            ELSE
                CALL COMMON_UP_JUEL, LOCAL:1, 3, 20*ARG:1*(1+ABL:(LOCAL:1):B감각)*(1+ABL:(LOCAL:2):기교), 0
            ENDIF
        ENDIF
        ;13욕망
        CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):욕망)*(1+ABL:(LOCAL:2):기교), 0
    ENDIF
    PRINTW  
REND

;----------------------------
;相互愛撫
;----------------------------
@NIGHT_SEX_310, ARG, ARG:1
REPEAT 2
    LOCAL:1 = (COUNT == 0) ? ARG # TARGET
    LOCAL:2 = (COUNT == 0) ? TARGET # ARG
    
    ;02절정경험
    CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):C감각/6), 0
    ;03사정경험
    IF EXIST_PENIS(LOCAL:1)
        LOCAL = ARG:1*ABL:(LOCAL:1):C감각/6
        CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
        ;LUNATIC 이상은 사정할 때마다 체력이 감소
        CALL EXHAUST_EJAC, LOCAL:1, LOCAL
    ENDIF
    ;04정액경험
    SIF EXIST_PENIS(LOCAL:2)
        CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):C감각/6), 0
    ;12레즈경험
    SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:2):120 == 0
        CALL COMMON_UP_EXP, LOCAL:1, 12, 3*ARG:1, 0
    ;13BL경험
    SIF TALENT:(LOCAL:1):120 && TALENT:(LOCAL:2):120
        CALL COMMON_UP_EXP, LOCAL:1, 13, 3*ARG:1, 0
    ;23키스경험
    CALL COMMON_UP_EXP, LOCAL:1, 23, ARG:1/3, 0
    ;44B쾌락경험
    SIF TALENT:(LOCAL:1):120 == 0
        CALL COMMON_UP_EXP, LOCAL:1, 44, ARG:1*ABL:(LOCAL:1):B감각, 0

    ;노예 구슬 취득 처리
    IF LOCAL:1 != MASTER
        ;00쾌Ｃ
        CALL COMMON_UP_JUEL, LOCAL:1, 0, 40*ARG:1*(1+ABL:(LOCAL:1):C감각)*(1+ABL:(LOCAL:2):기교), 0
        ;03쾌Ｂ
        SIF TALENT:(LOCAL:1):120 == 0
            CALL COMMON_UP_JUEL, LOCAL:1, 3, 40*ARG:1*(1+ABL:(LOCAL:1):B감각)*(1+ABL:(LOCAL:2):기교), 0
        ;12순종
        SIF ARG == MASTER
            CALL COMMON_UP_JUEL, LOCAL:1, 12, 20*ARG:1*(1+ABL:(LOCAL:1):순종)*(1+ABL:(LOCAL:1):봉사정신), 0
        ;13욕망
        CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):욕망)*(1+ABL:(LOCAL:2):기교), 0
        ;14굴복
        CALL COMMON_UP_JUEL, LOCAL:1, 14, 10*ARG:1*(1+ABL:(LOCAL:1):순종)*(1+ABL:(LOCAL:1):봉사정신), 0
    ENDIF
    PRINTW  
REND

;----------------------------
;愛撫してもらう
;----------------------------
@NIGHT_SEX_311, ARG, ARG:1
REPEAT 2
    LOCAL:1 = (COUNT == 0) ? ARG # TARGET
    LOCAL:2 = (COUNT == 0) ? TARGET # ARG
    
    ;02절정경험
    SIF LOCAL:1 != ARG
        CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):C감각/6), 0
    ;03사정경험
    IF EXIST_PENIS(LOCAL:1)
        IF LOCAL:1 != ARG
            LOCAL = ARG:1*ABL:(LOCAL:1):C감각/6
            CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
            ;LUNATIC 이상은 사정할 때마다 체력이 감소
            CALL EXHAUST_EJAC, LOCAL:1, LOCAL
        ENDIF
    ENDIF
    ;04정액경험
    IF EXIST_PENIS(LOCAL:2)
        SIF LOCAL:2 != ARG
            CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):C감각/6), 0
    ENDIF
    ;12레즈경험
    SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:2):120 == 0
        CALL COMMON_UP_EXP, LOCAL:1, 12, 3*ARG:1, 0
    ;13BL경험
    SIF TALENT:(LOCAL:1):120 && TALENT:(LOCAL:2):120
        CALL COMMON_UP_EXP, LOCAL:1, 13, 3*ARG:1, 0
    ;23키스경험
    CALL COMMON_UP_EXP, LOCAL:1, 23, ARG:1/3, 0
    ;44B쾌락경험
    SIF LOCAL:1 != ARG
        CALL COMMON_UP_EXP, LOCAL:1, 44, ARG:1*ABL:(LOCAL:1):B감각, 0

    ;노예 구슬 취득 처리
    IF LOCAL:1 != MASTER
        ;00쾌Ｃ
        SIF LOCAL:1 != ARG
            CALL COMMON_UP_JUEL, LOCAL:1, 0, 40*ARG:1*(1+ABL:(LOCAL:1):C감각)*(1+ABL:(LOCAL:2):기교), 0
        ;03쾌Ｂ
        IF LOCAL:1 != ARG
            IF TALENT:(LOCAL:1):120 == 0
                CALL COMMON_UP_JUEL, LOCAL:1, 3, 40*ARG:1*(1+ABL:(LOCAL:1):B감각)*(1+ABL:(LOCAL:2):기교), 0
            ELSE
                CALL COMMON_UP_JUEL, LOCAL:1, 3, 20*ARG:1*(1+ABL:(LOCAL:1):B감각)*(1+ABL:(LOCAL:2):기교), 0
            ENDIF
        ENDIF
        ;12순종
        SIF ARG == MASTER
            CALL COMMON_UP_JUEL, LOCAL:1, 12, 20*ARG:1*(1+ABL:(LOCAL:1):순종)*(1+ABL:(LOCAL:1):봉사정신), 0
        ;13욕망
        CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):욕망)*(1+ABL:(LOCAL:2):기교), 0
        ;14굴복
        SIF LOCAL:1 != ARG
            CALL COMMON_UP_JUEL, LOCAL:1, 14, 10*ARG:1*(1+ABL:(LOCAL:1):순종)*(1+ABL:(LOCAL:1):봉사정신), 0
    ENDIF
    PRINTW  
REND

;----------------------------
;自慰させられる
;----------------------------
@NIGHT_SEX_319, ARG, ARG:1
REPEAT 2
    LOCAL:1 = (COUNT == 0) ? ARG # TARGET
    LOCAL:2 = (COUNT == 0) ? TARGET # ARG
    
    ;02절정경험
    CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):C감각/6), 0
    ;03사정경험
    IF EXIST_PENIS(LOCAL:1)
        IF LOCAL:1 != ARG
            LOCAL = ARG:1*ABL:(LOCAL:1):C감각/6
            CALL COMMON_UP_EXP, LOCAL:1, 3, (ARG:1*ABL:(LOCAL:1):C감각/6), 0
            ;LUNATIC 이상은 사정할 때마다 체력이 감소
            CALL EXHAUST_EJAC, LOCAL:1, LOCAL
        ENDIF
    ENDIF
    ;04정액경험
    IF EXIST_PENIS(LOCAL:2)
        SIF LOCAL:2 != ARG
            CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):C감각/6), 0
    ENDIF
    ;10自慰경험
    SIF LOCAL:1 != ARG
        CALL COMMON_UP_EXP, LOCAL:1, 10, ARG:1, 0
    ;11調教自慰경험
    SIF LOCAL:1 != ARG
        CALL COMMON_UP_EXP, LOCAL:1, 11, ARG:1, 0
    ;12레즈경험
    SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:2):120 == 0
        CALL COMMON_UP_EXP, LOCAL:1, 12, 3*ARG:1, 0
    ;13BL경험
    SIF TALENT:(LOCAL:1):120 && TALENT:(LOCAL:2):120
        CALL COMMON_UP_EXP, LOCAL:1, 13, 3*ARG:1, 0
    ;44B쾌락경험
    SIF LOCAL:1 != ARG
        CALL COMMON_UP_EXP, LOCAL:1, 44, ARG:1*ABL:(LOCAL:1):B감각, 0

    ;노예 구슬 취득 처리
    IF LOCAL:1 != MASTER
        ;00쾌Ｃ
        SIF LOCAL:1 != ARG
            CALL COMMON_UP_JUEL, LOCAL:1, 0, 40*ARG:1*(1+ABL:(LOCAL:1):C감각)*(1+ABL:(LOCAL:2):기교), 0
        ;03쾌Ｂ
        IF LOCAL:1 != ARG
            IF TALENT:(LOCAL:1):120 == 0
                CALL COMMON_UP_JUEL, LOCAL:1, 3, 40*ARG:1*(1+ABL:(LOCAL:1):B감각)*(1+ABL:(LOCAL:2):기교), 0
            ELSE
                CALL COMMON_UP_JUEL, LOCAL:1, 3, 20*ARG:1*(1+ABL:(LOCAL:1):B감각)*(1+ABL:(LOCAL:2):기교), 0
            ENDIF
        ENDIF
        ;12순종
        SIF ARG == MASTER
            CALL COMMON_UP_JUEL, LOCAL:1, 12, 20*ARG:1*(1+ABL:(LOCAL:1):순종)*(1+ABL:(LOCAL:1):봉사정신), 0
        ;13욕망
        CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):욕망)*(1+ABL:(LOCAL:2):기교), 0
        ;14굴복
        SIF LOCAL:1 != ARG
            CALL COMMON_UP_JUEL, LOCAL:1, 14, 10*ARG:1*(1+ABL:(LOCAL:1):순종)*(1+ABL:(LOCAL:1):봉사정신), 0
        ;15恥情
        SIF LOCAL:1 != ARG
            CALL COMMON_UP_JUEL, LOCAL:1, 15, 20*ARG:1*(6-ABL:(LOCAL:1):노출증), 0
    ENDIF
    PRINTW  
REND

;============================
;정음系
;============================
;----------------------------
;襲撃펠라
;----------------------------
;----------------------------
;펠라させてもらう
;----------------------------

;============================
;コピぺ用全部乗せ
;============================
@NIGHT_SEX_999, ARG, ARG:1
REPEAT 2
    LOCAL:1 = (COUNT == 0) ? ARG # TARGET
    LOCAL:2 = (COUNT == 0) ? TARGET # ARG
    
    ;00V경험
    SIF LOCAL:1 == ARG && TALENT:(LOCAL:1):120 == 0
        CALL COMMON_UP_EXP, LOCAL:1, 0, ARG:1, 0
    ;01A경험
    SIF LOCAL:1 == ARG
        CALL COMMON_UP_EXP, LOCAL:1, 1, ARG:1, 0
    ;02절정경험
    IF LOCAL:1 == ARG
        CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):C감각/6), 0
    ELSE
        CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):C감각/6), 0
    ENDIF
    ;03사정경험
    IF EXIST_PENIS(LOCAL:1)
        IF LOCAL:1 == ARG
            LOCAL = ARG:1*ABL:(LOCAL:1):V감각/6
            CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
            ;LUNATIC 이상은 사정할 때마다 체력이 감소
            CALL EXHAUST_EJAC, LOCAL:1, LOCAL
        ELSE
            LOCAL = ARG:1*ABL:(LOCAL:1):C감각/6
            CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
            ;LUNATIC 이상은 사정할 때마다 체력이 감소
            CALL EXHAUST_EJAC, LOCAL:1, LOCAL
        ENDIF
    ENDIF
    ;04정액경험
    IF EXIST_PENIS(LOCAL:2)
        IF LOCAL:2 == ARG
            CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):C감각/6), 0
        ELSE
            CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):C감각/6), 0
        ENDIF
    ENDIF
    ;08정음절정경험
    SIF EXIST_PENIS(LOCAL:2)
        CALL COMMON_UP_EXP, LOCAL:1, 8, (ARG:1*ABL:(LOCAL:1):정액중독*ABL:(LOCAL:2):C감각/36), 0
    ;10自慰경험
    SIF LOCAL:1 != ARG
        CALL COMMON_UP_EXP, LOCAL:1, 10, ARG:1, 0
    ;11調教自慰경험
    SIF LOCAL:1 != ARG
        CALL COMMON_UP_EXP, LOCAL:1, 11, ARG:1, 0
    ;12레즈경험
    SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:2):120 == 0
        CALL COMMON_UP_EXP, LOCAL:1, 12, 3*ARG:1, 0
    ;13BL경험
    SIF TALENT:(LOCAL:1):120 && TALENT:(LOCAL:2):120
        CALL COMMON_UP_EXP, LOCAL:1, 13, 3*ARG:1, 0
    ;20봉사쾌락경험
    SIF LOCAL:1 == ARG
        CALL COMMON_UP_EXP, LOCAL:1, 20, ARG:1*ABL:(LOCAL:1):C감각, 0
    ;22펠라경험
    SIF LOCAL:1 == ARG
        CALL COMMON_UP_EXP, LOCAL:1, 22, ARG:1, 0
    ;23키스경험
    CALL COMMON_UP_EXP, LOCAL:1, 23, ARG:1/3, 0
    ;30고통쾌락경험
    SIF LOCAL:1 == ARG
        CALL COMMON_UP_EXP, LOCAL:1, 30, ARG:1*ABL:(LOCAL:1):마조끼*(6-ABL:(LOCAL:1):A감각), 0
    ;43A쾌락경험
    SIF LOCAL:1 == ARG
        CALL COMMON_UP_EXP, LOCAL:1, 43, ARG:1*ABL:(LOCAL:1):A감각, 0
    ;44B쾌락경험
    SIF LOCAL:1 == ARG
        CALL COMMON_UP_EXP, LOCAL:1, 44, ARG:1*ABL:(LOCAL:1):B감각, 0

    ;노예 구슬 취득 처리
    IF LOCAL:1 != MASTER
        ;00쾌Ｃ
        SIF LOCAL:1 == ARG
            CALL COMMON_UP_JUEL, LOCAL:1, 0, 40*ARG:1*(1+ABL:(LOCAL:1):C감각)*(1+ABL:(LOCAL:2):기교), 0
        ;01쾌Ｖ
        SIF LOCAL:1 == ARG && TALENT:(LOCAL:1):120 == 0
            CALL COMMON_UP_JUEL, LOCAL:1, 1, 40*ARG:1*(1+ABL:(LOCAL:1):V감각)*(1+ABL:(LOCAL:2):기교), 0
        ;02쾌Ａ
        SIF LOCAL:1 == ARG
            CALL COMMON_UP_JUEL, LOCAL:1, 2, 40*ARG:1*(1+ABL:(LOCAL:1):A감각)*(1+ABL:(LOCAL:2):기교), 0
        ;03쾌Ｂ
        IF LOCAL:1 == ARG
            IF TALENT:(LOCAL:1):120 == 0
                CALL COMMON_UP_JUEL, LOCAL:1, 3, 40*ARG:1*(1+ABL:(LOCAL:1):B감각)*(1+ABL:(LOCAL:2):기교), 0
            ELSE
                CALL COMMON_UP_JUEL, LOCAL:1, 3, 20*ARG:1*(1+ABL:(LOCAL:1):B감각)*(1+ABL:(LOCAL:2):기교), 0
            ENDIF
        ENDIF
        ;12순종
        SIF ARG == MASTER
            CALL COMMON_UP_JUEL, LOCAL:1, 12, 20*ARG:1*(1+ABL:(LOCAL:1):순종)*(1+ABL:(LOCAL:1):봉사정신), 0
        ;13욕망
        CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):욕망)*(1+ABL:(LOCAL:2):기교), 0
        ;14굴복
        SIF LOCAL:1 == ARG
            CALL COMMON_UP_JUEL, LOCAL:1, 14, 10*ARG:1*(1+ABL:(LOCAL:1):순종)*(1+ABL:(LOCAL:1):봉사정신), 0
        ;15恥情
        SIF LOCAL:1 == ARG
            CALL COMMON_UP_JUEL, LOCAL:1, 15, 20*ARG:1*(6-ABL:(LOCAL:1):노출증), 0
    ENDIF
    PRINTW  
REND

;==============================================
;
;ＳＭ系処理
;
;==============================================
;--------------------------------------------
;対象がＭな場合
;--------------------------------------------
@NIGHT_EVENT_SM_M_2, ARG
;先ず攻め手のＳ度LOCAL:10を換算する(初期値はサドっ気LV)
LOCAL:10 = ABL:ARG:새드끼
;サド持ちなら+3
SIF TALENT:ARG:81
    LOCAL:10 += 3
;どＳ持ちなら+5
SIF TALENT:ARG:177
    LOCAL:10 += 5

;次に受け手のＭ度LOCAL:11を換算する(初期値は受け手のマゾっ気LV)
LOCAL:11 = ABL:마조끼
;マゾ持ちなら+3
SIF TALENT:82
    LOCAL:11 += 3
;どＭ持ちなら+5
SIF TALENT:178
    LOCAL:11 += 5

;行為数LOCAL:5を算出する.最低3回にする
;単純平均が最低値を割った場合、底上げ
LOCAL:5 = MAX((LOCAL:10+LOCAL:11)/2, 3)

;数式補助にLOCAL:12,LOCAL:13を使う.

REPEAT 2
    LOCAL:1 = (COUNT == 0) ? ARG # TARGET
    LOCAL:2 = (COUNT == 0) ? TARGET # ARG
    
    LOCAL:12 = (LOCAL:1 == ARG) ? LOCAL:10/5 # LOCAL:11/5
    LOCAL:13 = (LOCAL:1 == ARG) ? LOCAL:11/5 # LOCAL:10/5

    ;各경험の取得.
    ;2절정、3사정、4정액、30고통쾌락、縄有りなら31緊縛、39ＳＭ教育
    ;레즈、ＢＬは除外してしまう.ＳＭメインなので.
    ;절정경험.S度/5回もしくはM度/5回
    CALL COMMON_UP_EXP, LOCAL:1, 2, LOCAL:12, 0
    ;사정경험
    IF EXIST_PENIS(LOCAL:1)
        LOCAL = LOCAL:12
        CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
        ;LUNATIC 이상은 사정할 때마다 체력이 감소
        CALL EXHAUST_EJAC, LOCAL:1, LOCAL
    ENDIF
    ;정액경험
    SIF EXIST_PENIS(LOCAL:2)
        CALL COMMON_UP_EXP, LOCAL:1, 4, LOCAL:13, 0
    ;고통쾌락경험
    IF LOCAL:1 != ARG
        IF ITEM:32 || NOITEM
            CALL COMMON_UP_EXP, LOCAL:1, 30, (LOCAL:5*ABL:(LOCAL:1):마조끼*ABL:(LOCAL:2):기교)/5, 0
        ELSE
            CALL COMMON_UP_EXP, LOCAL:1, 30, (LOCAL:5*ABL:(LOCAL:1):마조끼*ABL:(LOCAL:2):기교)/6, 0
        ENDIF
    ENDIF
    ;緊縛경험
    SIF LOCAL:1 != ARG && (ITEM:29 || NOITEM)
        CALL COMMON_UP_EXP, LOCAL:1, 31, LOCAL:5, 0
    ;ＳＭ教育경험
    SIF LOCAL:1 == ARG
        CALL COMMON_UP_EXP, LOCAL:1, 39, LOCAL:5, 0

    ;主人の場合
    IF LOCAL:1 == MASTER
        
    ;奴隷の場合
    ELSEIF LOCAL:1 == ARG
        ;습득의 구슬
        CALL COMMON_UP_JUEL, LOCAL:1, 11, 50*LOCAL:5*(1+ABL:(LOCAL:1):기교), 0
        ;욕정의 구슬
        CALL COMMON_UP_JUEL, LOCAL:1, 13, 10*LOCAL:5*(1+ABL:(LOCAL:1):욕망)*LOCAL:10, 0
    ELSEIF ITEM:32 || NOITEM
        ;순종의 구슬
        SIF ARG == MASTER
            CALL COMMON_UP_JUEL, LOCAL:1, 12, (LOCAL:5*ABL:(LOCAL:1):순종*LOCAL:10*LOCAL:11)/3, 0
        ;욕정의 구슬
        CALL COMMON_UP_JUEL, LOCAL:1, 13, (10*LOCAL:5*(1+ABL:(LOCAL:1):욕망)*LOCAL:11*ABL:ARG:기교)/5, 0
        ;굴복의 구슬
        SIF ARG == MASTER
            CALL COMMON_UP_JUEL, LOCAL:1, 14, (10*LOCAL:5*(1+ABL:(LOCAL:1):욕망)*LOCAL:11*ABL:ARG:기교)/5, 0
        ;고통의 구슬
        CALL COMMON_UP_JUEL, LOCAL:1, 16, 50*LOCAL:5*(1+ABL:ARG:기교), 0
    ELSE
        ;순종의 구슬
        SIF ARG == MASTER
            CALL COMMON_UP_JUEL, LOCAL:1, 12, (LOCAL:5*ABL:(LOCAL:1):순종*LOCAL:10*LOCAL:11)/4, 0
        ;욕정의 구슬
        CALL COMMON_UP_JUEL, LOCAL:1, 13, (10*LOCAL:5*(1+ABL:(LOCAL:1):욕망)*LOCAL:11*ABL:ARG:기교)/6, 0
        ;굴복의 구슬
        SIF ARG == MASTER
            CALL COMMON_UP_JUEL, LOCAL:1, 14, (10*LOCAL:5*(1+ABL:(LOCAL:1):욕망)*LOCAL:11*ABL:ARG:기교)/6, 0
        ;고통의 구슬
        CALL COMMON_UP_JUEL, LOCAL:1, 16, 40*LOCAL:5*(1+ABL:ARG:기교), 0
    ENDIF
    PRINTW  
REND

;--------------------------------------------
;対象がＳな場合
;--------------------------------------------
@NIGHT_EVENT_SM_S_2, ARG
;先ず攻め手のＳ度LOCAL:11を換算する(初期値はサドっ気LV)
LOCAL:11 = ABL:새드끼
;サド持ちなら+3
SIF TALENT:81
    LOCAL:11 += 3
;どＳ持ちなら+5
SIF TALENT:177
    LOCAL:11 += 5

;次に受け手のＭ度LOCAL:10を換算する(初期値は受け手のマゾっ気LV)
LOCAL:10 = ABL:ARG:마조끼
;マゾ持ちなら+3
SIF TALENT:ARG:82
    LOCAL:10 += 3
;どＭ持ちなら+5
SIF TALENT:ARG:178
    LOCAL:10 += 5

;行為数LOCAL:5を算出する.最低3回にする
;単純平均が最低値を割った場合、底上げ
LOCAL:5 = MAX((LOCAL:11+LOCAL:10)/2, 3)

;数式補助にLOCAL:12,LOCAL:13を使う.

REPEAT 2
    LOCAL:1 = (COUNT == 0) ? ARG # TARGET
    LOCAL:2 = (COUNT == 0) ? TARGET # ARG
    
    LOCAL:12 = (LOCAL:1 != ARG) ? LOCAL:11/5 # LOCAL:10/5
    LOCAL:13 = (LOCAL:1 != ARG) ? LOCAL:10/5 # LOCAL:11/5
    
    ;各경험の取得.
    ;2절정、3사정、4정액、30고통쾌락、縄有りなら31緊縛、39ＳＭ教育
    ;레즈、BLは除外してしまう.ＳＭメインなので.
    ;절정경험.S度/5回もしくはM度/5回
    CALL COMMON_UP_EXP, LOCAL:1, 2, LOCAL:12, 0
    ;사정경험
    IF EXIST_PENIS(LOCAL:1)
        LOCAL = LOCAL:12
        CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL:12, 0
        ;LUNATIC 이상은 사정할 때마다 체력이 감소
        CALL EXHAUST_EJAC, LOCAL:1, LOCAL
    ENDIF
    ;정액경험
    SIF EXIST_PENIS(LOCAL:2)
        CALL COMMON_UP_EXP, LOCAL:1, 4, LOCAL:13, 0
    ;고통쾌락경험
    IF LOCAL:1 == ARG
        IF ITEM:32 || NOITEM
            CALL COMMON_UP_EXP, LOCAL:1, 30, (LOCAL:5*ABL:(LOCAL:1):마조끼*ABL:(LOCAL:2):기교)/5, 0
        ELSE
            CALL COMMON_UP_EXP, LOCAL:1, 30, (LOCAL:5*ABL:(LOCAL:1):마조끼*ABL:(LOCAL:2):기교)/6, 0
        ENDIF
    ENDIF
    ;緊縛경험
    SIF LOCAL:1 == ARG && (ITEM:29 || NOITEM)
        CALL COMMON_UP_EXP, LOCAL:1, 31, LOCAL:5, 0
    ;ＳＭ教育경험
    SIF LOCAL:1 != ARG
        CALL COMMON_UP_EXP, LOCAL:1, 39, LOCAL:5, 0
    
    ;主人の場合
    IF LOCAL:1 == MASTER
        
    ;奴隷の場合
    ELSEIF LOCAL:1 == TARGET
        ;습득의 구슬
        CALL COMMON_UP_JUEL, LOCAL:1, 11, 50*LOCAL:5*(1+ABL:(LOCAL:1):기교), 0
        ;욕정의 구슬
        CALL COMMON_UP_JUEL, LOCAL:1, 13, 10*LOCAL:5*(1+ABL:(LOCAL:1):욕망)*LOCAL:11, 0
        ;先導의 구슬
        SIF ARG == MASTER
            CALL COMMON_UP_JUEL, LOCAL:1, 32, (LOCAL:5*ABL:(LOCAL:1):순종*LOCAL:11*LOCAL:10)/3, 0
    ELSE
        ;욕정의 구슬
        CALL COMMON_UP_JUEL, LOCAL:1, 13, (10*LOCAL:5*(1+ABL:(LOCAL:1):욕망)*LOCAL:10*ABL:ARG:기교)/5, 0
        ;고통의 구슬
        CALL COMMON_UP_JUEL, LOCAL:1, 16, 50*LOCAL:5*(1+ABL:ARG:기교), 0
    ENDIF
    PRINTW  
REND

RETURN LOCAL:5

;==============================================
;
;多人数セックスの処理
;
;==============================================
;基本方針.使える穴は全部使う
;容量増えすぎて夜イベから派生
;変数は基本的に夜イベに合せてある
;

;ZFIJLR以外でうまく置き換えれば、最大で21人までいけるなどと思っていたことがありましたｗ
;穴を開発していない棒付き20vs女一人だとVやA경험が凄い事になる
;どのくらい凄いかというと行為数12で、VA合せて160回突っ込まれる計算.
;そして절정回数82回
;･･･절정82回は何か普通か.
;-----------------------------------------------
;二人セックス用
;-----------------------------------------------
@NIGHT_STATUS_UP_2P, ARG
;参加者数-1
LOCAL = 1
REPEAT (LOCAL+1)
    ;自身の使用可能な穴の数をLOCAL:10、自分以外の肉棒の数をLOCAL:11とする
    ;LOCAL:10は主人の眠り判定に使っているが、此処ではもう用無しである
    ;親しい人の存在判定LOCAL:13
    LOCAL:10 = 0
    LOCAL:11 = 0
    LOCAL:13 = 0
    LOCAL:15 = 0

    ;カウントに応じて、入れ替える.
    LOCAL:1 = (COUNT == 0) ? MASTER # TARGET
    LOCAL:2 = (COUNT == 0) ? TARGET # MASTER
    ;自分以外の穴を使用可能な人数を取得する(LOCAL:15
    SIF (TALENT:(LOCAL:2):120 == 0 && TALENT:(LOCAL:2):0 == 0 && (EXP:(LOCAL:2):V경험 > 12 || LOCAL:2 != MASTER)) || ((LOCAL:2 == MASTER && EXP:(LOCAL:2):A경험 > 12) || ABL:(LOCAL:2):A감각 > 1)
        LOCAL:15 += 1
    SIF LOCAL:15 > 1
        LOCAL:15 = 0

    ;自身の使用可能な穴数（LOCAL:10.
    ;Ｖの場合.処女じゃなければおｋ.主人なら경험13以上
    SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:1):0 == 0 && (EXP:(LOCAL:1):V경험 > 12 || LOCAL:1 != MASTER)
        LOCAL:10 += 1
    ;尻穴.主人は경험13以上.奴隷の場合ABL2以上、主人の2以上でもいい
    SIF (LOCAL:1 == MASTER && EXP:(LOCAL:1):A경험 > 12) || ABL:(LOCAL:1):A감각 > 1
        LOCAL:10 += 1
    ;棒の数を集計する(LOCAL:11
    SIF EXIST_PENIS(LOCAL:2)
        LOCAL:11 += 1
    ;自分以外の男の数をカウント
    SIF TALENT:(LOCAL:2):120
        LOCAL:13 += 1

    ;경험処理開始.
    ;ＡＢ쾌락はエロイんで欲しい
    ;봉사は入るとエロイから入れたい.
    ;ＣＶ조율は調教じゃないし割愛.
    ;Ｖ、Ａ、절정、사정、정액、레즈、ＢＬ、봉사、펠라、키스、Ａ쾌락、Ｂ쾌락かね・・・多いな
    ;今思えばコレもCALLすればよかった
    ;00V경험.誰か棒持ってないとダメ.計算しきれないケースがあるが、面倒なんで割愛
    SIF LOCAL:11 > 0 && TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:1):0 == 0 && (EXP:(LOCAL:1):V경험 > 12 || LOCAL:1 != MASTER)
        CALL COMMON_UP_EXP, LOCAL:1, 0, (ARG*LOCAL:11*(3-LOCAL:10))/(3*(1+LOCAL:15)), 0
    ;01A경험.誰か棒持ってないとダメ
    SIF LOCAL:11 > 0 && ((LOCAL:1 == MASTER && EXP:(LOCAL:1):A경험 > 12) || ABL:(LOCAL:1):A감각 > 1)
        CALL COMMON_UP_EXP, LOCAL:1, 1, (ARG*LOCAL:11*(3-LOCAL:10))/(3*(1+LOCAL:15)), 0
    ;02절정경험ARG/2＋V경험ボーナス＋A경험ボーナス
    IF LOCAL:10 > 0
        CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG/2)+(ARG*LOCAL:11/(3*(1+LOCAL:15))), 0
    ELSE
        CALL COMMON_UP_EXP, LOCAL:1, 2, ARG/2, 0
    ENDIF
    ;03사정경험
    IF EXIST_PENIS(LOCAL:1)
        LOCAL:5 = ARG/2
        CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL:5, 0
        ;LUNATIC 이상은 사정할 때마다 체력이 감소
        CALL EXHAUST_EJAC, LOCAL:1, LOCAL:5
    ENDIF
    ;04정액경험
    IF LOCAL:10 > 0
        CALL COMMON_UP_EXP, LOCAL:1, 4, ((ARG*LOCAL:11)/(6*LOCAL))+(ARG*LOCAL:11/(3*(1+LOCAL:15))), 0
    ELSE
        CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG*LOCAL:11*((9*LOCAL)-(8*LOCAL:15)))/(18*LOCAL*LOCAL), 0
    ENDIF
    ;12레즈경험
    SIF TALENT:(LOCAL:1):120 == 0 && LOCAL:13 == 0
        CALL COMMON_UP_EXP, LOCAL:1, 12, 5*ARG*(LOCAL-LOCAL:13), 0
    ;13BL경험
    SIF TALENT:(LOCAL:1):120 && LOCAL:13 == LOCAL
        CALL COMMON_UP_EXP, LOCAL:1, 13, 5*ARG*LOCAL:13, 0
    ;20봉사쾌락경험.主人は技巧、奴隷は봉사精神
    IF LOCAL:1 == MASTER
        CALL COMMON_UP_EXP, LOCAL:1, 20, (ARG*(LOCAL+LOCAL:11)*ABL:(LOCAL:1):기교)/LOCAL, 0
    ELSE
        CALL COMMON_UP_EXP, LOCAL:1, 20, (ARG*(LOCAL+LOCAL:11)*ABL:(LOCAL:1):봉사정신)/LOCAL, 0
    ENDIF
    ;22펠라경험
    CALL COMMON_UP_EXP, LOCAL:1, 22, (ARG*LOCAL:11)/(LOCAL*3), 0
    ;23키스경험
    ;ふたりではぴったり数が合わないとおかしいのでランダムが使えない
    LOCAL:12 = ARG
    CALL COMMON_UP_EXP, LOCAL:1, 23, LOCAL:12, 0
    ;43A쾌락경험
    SIF LOCAL:11 > 0 && ((LOCAL:1 == MASTER && EXP:(LOCAL:1):A경험 > 12) || ABL:(LOCAL:1):A감각 > 1)
        CALL COMMON_UP_EXP, LOCAL:1, 43, (ARG*LOCAL:11*(3-LOCAL:10)*ABL:(LOCAL:1):A감각)/(3*(1+LOCAL:15)), 0
    ;44B쾌락경험
    IF TALENT:(LOCAL:1):120
        CALL COMMON_UP_EXP, LOCAL:1, 44, (ARG*ABL:(LOCAL:1):B감각)/2, 0
    ELSE
        CALL COMMON_UP_EXP, LOCAL:1, 44, (ARG*(1+LOCAL:13)*ABL:(LOCAL:1):B감각)/2, 0
    ENDIF


    ;奴隷の場合.いつものＣＶＡＢ욕망순종.もとの乱交でも습득上がってたから습득も入れる.ただし主人の技巧が奴隷を上回る場合のみ.
    IF LOCAL:1 != MASTER
        LOCAL:12 = 0
        ;00Ｃ의 구슬(最大で6000
        CALL COMMON_UP_JUEL, LOCAL:1, 0, 20*ARG*MAX(ABL:(LOCAL:1):C감각*ABL:(LOCAL:1):C감각, 1), 0
        ;01Ｖ의 구슬
        IF LOCAL:11 > 0 && TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:1):0 == 0 && (EXP:(LOCAL:1):V경험 > 12 || LOCAL:1 != MASTER)
            LOCAL:12 = (ARG*LOCAL:11*(3-LOCAL:10))/(3*(1+LOCAL:15))
            CALL COMMON_UP_JUEL, LOCAL:1, 1, 20*LOCAL:12*ABL:(LOCAL:1):V감각*ABL:(LOCAL:1):V감각, 0
        ENDIF
        ;02Ａ의 구슬
        IF LOCAL:11 > 0 && ((LOCAL:1 == MASTER && EXP:(LOCAL:1):A경험 > 12) || ABL:(LOCAL:1):A감각 > 1)
            LOCAL:12 = (ARG*LOCAL:11*(3-LOCAL:10))/(3*(1+LOCAL:15))
            CALL COMMON_UP_JUEL, LOCAL:1, 2, 20*LOCAL:12*ABL:(LOCAL:1):A감각*ABL:(LOCAL:1):A감각, 0
        ENDIF
        ;03Ｂ의 구슬
        LOCAL:12 = ARG/2
        SIF TALENT:(LOCAL:1):120 == 0
            LOCAL:12 = ARG*(1+LOCAL:13)/2
        CALL COMMON_UP_JUEL, LOCAL:1, 3, 20*LOCAL:12*ABL:(LOCAL:1):B감각*ABL:(LOCAL:1):B감각, 0
        ;11습득
        SIF ABL:(LOCAL:1):기교 < ABL:MASTER:기교
            CALL COMMON_UP_JUEL, LOCAL:1, 11, 15*ARG*ABL:(LOCAL:1):기교*ABL:(LOCAL:1):기교, 0
        ;12순종
        CALL COMMON_UP_JUEL, LOCAL:1, 12, 15*ARG*ABL:(LOCAL:1):순종*ABL:(LOCAL:1):봉사정신, 0
        ;13욕정
        LOCAL:12 = ARG/2
        SIF LOCAL:10 > 0
            LOCAL:12 = (ARG/2)+(ARG*LOCAL:11/(3*(1+LOCAL:15)))
        CALL COMMON_UP_JUEL, LOCAL:1, 13, 30*LOCAL:12*ABL:(LOCAL:1):욕망*ABL:(LOCAL:1):욕망, 0
    ENDIF
    PRINTW 　
REND

;-----------------------------------------------
;3人セックス用
;-----------------------------------------------
@NIGHT_STATUS_UP_3P, ARG, ARG:1
;参加者数-1
LOCAL = 2
REPEAT (LOCAL+1)
    ;自身の使用可能な穴の数をLOCAL:10、自分以外の肉棒の数をLOCAL:11とする
    ;LOCAL:10は主人の眠り判定に使っているが、此処ではもう用無しである
    ;親しい人の存在判定LOCAL:13
    LOCAL:10 = 0
    LOCAL:11 = 0
    LOCAL:13 = 0
    LOCAL:15 = 0

    ;カウントに応じて、LOCAL:1 LOCAL:2 LOCAL:3を入れ替える.本当はABCDEが良いが他で使っているので仕方ない
    IF COUNT == 0
        LOCAL:1 = MASTER
        LOCAL:2 = TARGET
        LOCAL:3 = ARG
    ELSEIF COUNT == 1
        LOCAL:1 = TARGET
        LOCAL:2 = ARG
        LOCAL:3 = MASTER
    ELSE
        LOCAL:1 = ARG
        LOCAL:2 = MASTER
        LOCAL:3 = TARGET
    ENDIF
    ;自分以外の穴を使用可能な人数を取得する(LOCAL:15
    SIF (TALENT:(LOCAL:2):120 == 0 && TALENT:(LOCAL:2):0 == 0 && (EXP:(LOCAL:2):V경험 > 12 || LOCAL:2 != MASTER)) || ((LOCAL:2 == MASTER && EXP:(LOCAL:2):A경험 > 12) || ABL:(LOCAL:2):A감각 > 1)
        LOCAL:15 += 1
    SIF (TALENT:(LOCAL:3):120 == 0 && TALENT:(LOCAL:3):0 == 0 && (EXP:(LOCAL:3):V경험 > 12 || LOCAL:3 != MASTER)) || ((LOCAL:3 == MASTER && EXP:(LOCAL:3):A경험 > 12) || ABL:(LOCAL:3):A감각 > 1)
        LOCAL:15 += 1
    SIF LOCAL:15 > 2
        LOCAL:15 = 1

    ;自身の使用可能な穴数（LOCAL:10.
    ;Ｖの場合.処女じゃなければおｋ.主人なら경험13以上
    SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:1):0 == 0 && (EXP:(LOCAL:1):V경험 > 12 || LOCAL:1 != MASTER)
        LOCAL:10 += 1
    ;尻穴.主人は경험13以上.奴隷の場合ABL2以上、主人の2以上でもいい
    SIF (LOCAL:1 == MASTER && EXP:(LOCAL:1):A경험 > 12) || ABL:(LOCAL:1):A감각 > 1
        LOCAL:10 += 1
    ;棒の数を集計する(LOCAL:11
    SIF EXIST_PENIS(LOCAL:2)
        LOCAL:11 += 1
    SIF EXIST_PENIS(LOCAL:3)
        LOCAL:11 += 1
    ;自分以外の男の数をカウント
    SIF TALENT:(LOCAL:2):120
        LOCAL:13 += 1
    SIF TALENT:(LOCAL:3):120
        LOCAL:13 += 1

    ;경험処理開始.
    ;ＡＢ쾌락はエロイんで欲しい
    ;봉사は入るとエロイから入れたい.
    ;ＣＶ조율は調教じゃないし割愛.
    ;Ｖ、Ａ、절정、사정、정액、레즈、ＢＬ、봉사、펠라、키스、Ａ쾌락、Ｂ쾌락かね・・・多いな
    ;00V경험.誰か棒持ってないとダメ.計算しきれないケースがあるが、面倒なんで割愛
    SIF LOCAL:11 > 0 && TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:1):0 == 0 && (EXP:(LOCAL:1):V경험 > 12 || LOCAL:1 != MASTER)
        CALL COMMON_UP_EXP, LOCAL:1, 0, (ARG:1*LOCAL:11*(3-LOCAL:10))/(3*(1+LOCAL:15)), 0
    ;01A경험.誰か棒持ってないとダメ
    SIF LOCAL:11 > 0 && ((LOCAL:1 == MASTER && EXP:(LOCAL:1):A경험 > 12) || ABL:(LOCAL:1):A감각 > 1)
        CALL COMMON_UP_EXP, LOCAL:1, 1, (ARG:1*LOCAL:11*(3-LOCAL:10))/(3*(1+LOCAL:15)), 0
    ;02절정경험ARG:1/2＋V경험ボーナス＋A경험ボーナス
    IF LOCAL:10 > 0
        CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1/2)+(ARG:1*LOCAL:11/(3*(1+LOCAL:15))), 0
    ELSE
        CALL COMMON_UP_EXP, LOCAL:1, 2, ARG:1/2, 0
    ENDIF
    ;03사정경험
    IF EXIST_PENIS(LOCAL:1)
        CALL COMMON_UP_EXP, LOCAL:1, 3, ARG:1/2, 0
        ;LUNATIC 이상은 사정할 때마다 체력이 감소
        CALL EXHAUST_EJAC, LOCAL:1, ARG:1/2
    ENDIF
    ;04정액경험
    IF LOCAL:10 > 0
        CALL COMMON_UP_EXP, LOCAL:1, 4, ((ARG:1*LOCAL:11)/(6*LOCAL))+(ARG:1*LOCAL:11/(3*(1+LOCAL:15))), 0
    ELSE
        CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*LOCAL:11*((9*LOCAL)-(8*LOCAL:15)))/(18*LOCAL*LOCAL), 0
    ENDIF
    ;12레즈경험
    SIF TALENT:(LOCAL:1):120 == 0 && LOCAL:13 == 0
        CALL COMMON_UP_EXP, LOCAL:1, 12, 5*ARG:1*(LOCAL-LOCAL:13), 0
    ;13BL경험
    SIF TALENT:(LOCAL:1):120 && LOCAL:13 == LOCAL
        CALL COMMON_UP_EXP, LOCAL:1, 13, 5*ARG:1*LOCAL:13, 0
    ;20봉사쾌락경험.主人は技巧、奴隷は봉사精神
    IF LOCAL:1 == MASTER
        CALL COMMON_UP_EXP, LOCAL:1, 20, (ARG:1*(LOCAL+LOCAL:11)*ABL:(LOCAL:1):기교)/LOCAL, 0
    ELSE
        CALL COMMON_UP_EXP, LOCAL:1, 20, (ARG:1*(LOCAL+LOCAL:11)*ABL:(LOCAL:1):봉사정신)/LOCAL, 0
    ENDIF
    ;22펠라경험
    CALL COMMON_UP_EXP, LOCAL:1, 22, (ARG:1*LOCAL:11)/(LOCAL*3), 0
    ;23키스경험
    LOCAL:12 = ARG:1*2
    LOCAL:12 = RAND:(LOCAL:12)
    CALL COMMON_UP_EXP, LOCAL:1, 23, LOCAL:12, 0
    ;43A쾌락경험
    SIF LOCAL:11 > 0 && ((LOCAL:1 == MASTER && EXP:(LOCAL:1):A경험 > 12) || ABL:(LOCAL:1):A감각 > 1)
        CALL COMMON_UP_EXP, LOCAL:1, 43, (ARG:1*LOCAL:11*(3-LOCAL:10)*ABL:(LOCAL:1):A감각)/(3*(1+LOCAL:15)), 0
    ;44B쾌락경험
    IF TALENT:(LOCAL:1):120
        CALL COMMON_UP_EXP, LOCAL:1, 44, (ARG:1*ABL:(LOCAL:1):B감각)/2, 0
    ELSE
        CALL COMMON_UP_EXP, LOCAL:1, 44, (ARG:1*(1+LOCAL:13)*ABL:(LOCAL:1):B감각)/2, 0
    ENDIF

    ;奴隷の場合.いつものＣＶＡＢ욕망순종.もとの乱交でも습득上がってたから습득も入れる.ただし主人の技巧が奴隷を上回る場合のみ.
    IF LOCAL:1 != MASTER
        LOCAL:12 = 0
        ;00Ｃ의 구슬(最大で6000
        CALL COMMON_UP_JUEL, LOCAL:1, 0, 20*ARG:1*ABL:(LOCAL:1):C감각*ABL:(LOCAL:1):C감각, 0
        ;01Ｖ의 구슬
        IF LOCAL:11 > 0 && TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:1):0 == 0 && (EXP:(LOCAL:1):V경험 > 12 || LOCAL:1 != MASTER)
            LOCAL:12 = (ARG:1*LOCAL:11*(3-LOCAL:10))/(3*(1+LOCAL:15))
            CALL COMMON_UP_JUEL, LOCAL:1, 1, 20*LOCAL:12*ABL:(LOCAL:1):V감각*ABL:(LOCAL:1):V감각, 0
        ENDIF
        ;02Ａ의 구슬
        IF LOCAL:11 > 0 && ((LOCAL:1 == MASTER && EXP:(LOCAL:1):A경험 > 12) || ABL:(LOCAL:1):A감각 > 1)
            LOCAL:12 = (ARG:1*LOCAL:11*(3-LOCAL:10))/(3*(1+LOCAL:15))
            CALL COMMON_UP_JUEL, LOCAL:1, 2, 20*LOCAL:12*ABL:(LOCAL:1):A감각*ABL:(LOCAL:1):A감각, 0
        ENDIF
        ;03Ｂ의 구슬
        LOCAL:12 = ARG:1/2
        SIF TALENT:(LOCAL:1):120 == 0
            LOCAL:12 = ARG:1*(1+LOCAL:13)/2
        CALL COMMON_UP_JUEL, LOCAL:1, 3, 20*LOCAL:12*ABL:(LOCAL:1):B감각*ABL:(LOCAL:1):B감각, 0
        ;11습득
        SIF ABL:(LOCAL:1):기교 < ABL:MASTER:기교
            CALL COMMON_UP_JUEL, LOCAL:1, 11, 15*ARG:1*ABL:(LOCAL:1):기교*ABL:(LOCAL:1):기교, 0
        ;12순종
        CALL COMMON_UP_JUEL, LOCAL:1, 12, 15*ARG:1*ABL:(LOCAL:1):순종*ABL:(LOCAL:1):봉사정신, 0
        ;13욕정
        LOCAL:12 = ARG:1/2
        SIF LOCAL:10 > 0
            LOCAL:12 = (ARG:1/2)+(ARG:1*LOCAL:11/(3*(1+LOCAL:15)))
        CALL COMMON_UP_JUEL, LOCAL:1, 13, 30*LOCAL:12*ABL:(LOCAL:1):욕망*ABL:(LOCAL:1):욕망, 0
    ENDIF
    PRINTW  
REND

;-----------------------------------------------
;5人セックス用
;-----------------------------------------------
@NIGHT_STATUS_UP_5P, ARG, ARG:1, ARG:2, ARG:3, ARG:4
;男女混合の5人で処理なんてやってられないのでrepeatでまわす
;これ拡張すればなんにでも適用できるかも
;参加者数-1
LOCAL = 4
LOCAL:1 = MASTER
LOCAL:2 = ARG:1
LOCAL:3 = ARG:2
LOCAL:4 = ARG:3
LOCAL:5 = ARG:4
REPEAT (LOCAL+1)
    ;自身の使用可能な穴の数をLOCAL:10、自分以外の肉棒の数をLOCAL:11とする
    ;LOCAL:10は主人の眠り判定に使っているが、此処ではもう用無しである
    ;親しい人の存在判定LOCAL:13
    LOCAL:15 = 0
    LOCAL:11 = 0
    LOCAL:10 = 0
    LOCAL:13 = 0
    
    ;自分以外の穴を使用可能な人数を取得する(LOCAL:15
    SIF (TALENT:(LOCAL:2):120 == 0 && TALENT:(LOCAL:2):0 == 0 && (EXP:(LOCAL:2):V경험 > 12 || LOCAL:2 != MASTER)) || ((LOCAL:2 == MASTER && EXP:(LOCAL:2):A경험 > 12) || ABL:(LOCAL:2):A감각 > 1)
        LOCAL:15 += 1
    SIF (TALENT:(LOCAL:3):120 == 0 && TALENT:(LOCAL:3):0 == 0 && (EXP:(LOCAL:3):V경험 > 12 || LOCAL:3 != MASTER)) || ((LOCAL:3 == MASTER && EXP:(LOCAL:3):A경험 > 12) || ABL:(LOCAL:3):A감각 > 1)
        LOCAL:15 += 1
    SIF (TALENT:(LOCAL:4):120 == 0 && TALENT:(LOCAL:4):0 == 0 && (EXP:(LOCAL:4):V경험 > 12 || LOCAL:4 != MASTER)) || ((LOCAL:4 == MASTER && EXP:(LOCAL:4):A경험 > 12) || ABL:(LOCAL:4):A감각 > 1)
        LOCAL:15 += 1
    SIF (TALENT:(LOCAL:5):120 == 0 && TALENT:(LOCAL:5):0 == 0 && (EXP:(LOCAL:5):V경험 > 12 || LOCAL:5 != MASTER)) || ((LOCAL:5 == MASTER && EXP:(LOCAL:5):A경험 > 12) || ABL:(LOCAL:5):A감각 > 1)
        LOCAL:15 += 1
    SIF LOCAL:15 > 3
        LOCAL:15 = 3

    ;自身の使用可能な穴数（LOCAL:10.
    ;Ｖの場合.処女じゃなければおｋ.主人なら경험13以上
    SIF TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:1):0 == 0 && (EXP:(LOCAL:1):V경험 > 12 || LOCAL:1 != MASTER)
        LOCAL:10 += 1
    ;尻穴.主人は경험13以上.奴隷の場合ABL2以上、主人の2以上でもいい
    SIF (LOCAL:1 == MASTER && EXP:(LOCAL:1):A경험 > 12) || ABL:(LOCAL:1):A감각 > 1
        LOCAL:10 += 1
    ;棒の数を集計する(LOCAL:11
    SIF EXIST_PENIS(LOCAL:2)
        LOCAL:11 += 1
    SIF EXIST_PENIS(LOCAL:3)
        LOCAL:11 += 1
    SIF EXIST_PENIS(LOCAL:4)
        LOCAL:11 += 1
    SIF EXIST_PENIS(LOCAL:5)
        LOCAL:11 += 1
    ;自分以外の男の数をカウント
    SIF TALENT:(LOCAL:2):120
        LOCAL:13 += 1
    SIF TALENT:(LOCAL:3):120
        LOCAL:13 += 1
    SIF TALENT:(LOCAL:4):120
        LOCAL:13 += 1
    SIF TALENT:(LOCAL:5):120
        LOCAL:13 += 1

    ;경험処理開始.
    ;ＡＢ쾌락はエロイんで欲しい
    ;봉사は入るとエロイから入れたい.
    ;ＣＶ조율は調教じゃないし割愛.
    ;Ｖ、Ａ、절정、사정、정액、레즈、ＢＬ、봉사、펠라、키스、Ａ쾌락、Ｂ쾌락かね・・・多いな
    ;00V경험.誰か棒持ってないとダメ.計算しきれないケースがあるが、面倒なんで割愛
    SIF LOCAL:11 > 0 && TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:1):0 == 0 && (EXP:(LOCAL:1):V경험 > 12 || LOCAL:1 != MASTER)
        CALL COMMON_UP_EXP, LOCAL:1, 0, (ARG*LOCAL:11*(3-LOCAL:10))/(3*(1+LOCAL:15)), 0
    ;01A경험.誰か棒持ってないとダメ
    SIF LOCAL:11 > 0 && ((LOCAL:1 == MASTER && EXP:(LOCAL:1):A경험 > 12) || ABL:(LOCAL:1):A감각 > 1)
        CALL COMMON_UP_EXP, LOCAL:1, 1, (ARG*LOCAL:11*(3-LOCAL:10))/(3*(1+LOCAL:15)), 0
    ;02절정경험ARG/2＋V경험ボーナス＋A경험ボーナス
    IF LOCAL:10 > 0
        CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG/2)+(ARG*LOCAL:11/(3*(1+LOCAL:15))), 0
    ELSE
        CALL COMMON_UP_EXP, LOCAL:1, 2, ARG/2, 0
    ENDIF
    ;03사정경험
    IF EXIST_PENIS(LOCAL:1)
        LOCAL:7 = ARG/2
        CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL:7, 0
        ;LUNATIC 이상은 사정할 때마다 체력이 감소
        CALL EXHAUST_EJAC, LOCAL:1, LOCAL:7
    ENDIF
    ;04정액경험
    IF LOCAL:10 > 0
        CALL COMMON_UP_EXP, LOCAL:1, 4, ((ARG*LOCAL:11)/(6*LOCAL))+(ARG*LOCAL:11/(3*(1+LOCAL:15))), 0
    ELSE
        CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG*LOCAL:11*((9*LOCAL)-(8*LOCAL:15)))/(18*LOCAL*LOCAL), 0
    ENDIF
    ;12레즈경험
    SIF TALENT:(LOCAL:1):120 == 0 && LOCAL:13 == 0
        CALL COMMON_UP_EXP, LOCAL:1, 12, 5*ARG*(LOCAL-LOCAL:13), 0
    ;13BL경험
    SIF TALENT:(LOCAL:1):120 && LOCAL:13 == LOCAL
        CALL COMMON_UP_EXP, LOCAL:1, 13, 5*ARG*LOCAL:13, 0
    ;20봉사쾌락경험.主人は技巧、奴隷は봉사精神
    IF LOCAL:1 == MASTER
        CALL COMMON_UP_EXP, LOCAL:1, 20, (ARG*(LOCAL+LOCAL:11)*ABL:(LOCAL:1):기교)/LOCAL, 0
    ELSE
        CALL COMMON_UP_EXP, LOCAL:1, 20, (ARG*(LOCAL+LOCAL:11)*ABL:(LOCAL:1):봉사정신)/LOCAL, 0
    ENDIF
    ;22펠라경험
    CALL COMMON_UP_EXP, LOCAL:1, 22, (ARG*LOCAL:11)/(LOCAL*3), 0
    ;23키스경험
    LOCAL:12 = ARG*2
    LOCAL:12 = RAND:(LOCAL:12)
    CALL COMMON_UP_EXP, LOCAL:1, 23, LOCAL:12, 0
    ;43A쾌락경험
    SIF LOCAL:11 > 0 && ((LOCAL:1 == MASTER && EXP:(LOCAL:1):A경험 > 12) || ABL:(LOCAL:1):A감각 > 1)
        CALL COMMON_UP_EXP, LOCAL:1, 43, (ARG*LOCAL:11*(3-LOCAL:10)*ABL:(LOCAL:1):A감각)/(3*(1+LOCAL:15)), 0
    ;44B쾌락경험
    IF TALENT:(LOCAL:1):120
        CALL COMMON_UP_EXP, LOCAL:1, 44, (ARG*ABL:(LOCAL:1):B감각)/2, 0
    ELSE
        CALL COMMON_UP_EXP, LOCAL:1, 44, (ARG*(1+LOCAL:13)*ABL:(LOCAL:1):B감각)/2, 0
    ENDIF

    ;奴隷の場合.いつものＣＶＡＢ욕망순종.もとの乱交でも습득上がってたから습득も入れる.ただし主人の技巧が奴隷を上回る場合のみ.
    IF LOCAL:1 != MASTER
        LOCAL:12 = 0
        ;00Ｃ의 구슬(最大で6000
        CALL COMMON_UP_JUEL, LOCAL:1, 0, 20*ARG*ABL:(LOCAL:1):C감각*ABL:(LOCAL:1):C감각, 0
        ;01Ｖ의 구슬
        IF LOCAL:11 > 0 && TALENT:(LOCAL:1):120 == 0 && TALENT:(LOCAL:1):0 == 0 && (EXP:(LOCAL:1):V경험 > 12 || LOCAL:1 != MASTER)
            LOCAL:12 = (ARG*LOCAL:11*(3-LOCAL:10))/(3*(1+LOCAL:15))
            CALL COMMON_UP_JUEL, LOCAL:1, 1, 20*LOCAL:12*ABL:(LOCAL:1):V감각*ABL:(LOCAL:1):V감각, 0
        ENDIF
        ;02Ａ의 구슬
        IF LOCAL:11 > 0 && ((LOCAL:1 == MASTER && EXP:(LOCAL:1):A경험 > 12) || ABL:(LOCAL:1):A감각 > 1)
            LOCAL:12 = (ARG*LOCAL:11*(3-LOCAL:10))/(3*(1+LOCAL:15))
            CALL COMMON_UP_JUEL, LOCAL:1, 2, 20*LOCAL:12*ABL:(LOCAL:1):A감각*ABL:(LOCAL:1):A감각, 0
        ENDIF
        ;03Ｂ의 구슬
        LOCAL:12 = ARG/2
        SIF TALENT:(LOCAL:1):120 == 0
            LOCAL:12 = ARG*(1+LOCAL:13)/2
        CALL COMMON_UP_JUEL, LOCAL:1, 3, 20*LOCAL:12*ABL:(LOCAL:1):B감각*ABL:(LOCAL:1):B감각, 0
        ;11습득
        SIF ABL:(LOCAL:1):기교 < ABL:MASTER:기교
            CALL COMMON_UP_JUEL, LOCAL:1, 11, 15*ARG*ABL:(LOCAL:1):기교*ABL:(LOCAL:1):기교, 0
        ;12순종
        CALL COMMON_UP_JUEL, LOCAL:1, 12, 15*ARG*ABL:(LOCAL:1):순종*ABL:(LOCAL:1):봉사정신, 0
        ;13욕정
        LOCAL:12 = ARG/2
        SIF LOCAL:10 > 0
            LOCAL:12 = (ARG/2)+(ARG*LOCAL:11/(3*(1+LOCAL:15)))
        CALL COMMON_UP_JUEL, LOCAL:1, 13, 30*LOCAL:12*ABL:(LOCAL:1):욕망*ABL:(LOCAL:1):욕망, 0
    ENDIF
    PRINTW  
    ARRAYSHIFT LOCAL, -1, LOCAL:1, 1, 5
REND

;===================================================
;助手と里でハッスル
;===================================================
;-------------------------------------------------
;女を捕まえてレイプする
;-------------------------------------------------
@NIGHT_ASSI_SEX_PH_1, ARG, ARG:1
REPEAT 2
    LOCAL:1 = (COUNT == 0) ? ARG # TARGET
    LOCAL:2 = (COUNT == 0) ? TARGET # ARG

    ;경험치 취득 처리
    ;00V경험
    SIF TALENT:(LOCAL:1):120 == 0 && EXIST_PENIS(LOCAL:2)
        CALL COMMON_UP_EXP, LOCAL:1, 0, ARG:1/3, 0
    ;02절정경험
    IF EXIST_PENIS(LOCAL:1)
        CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):C감각)/6, 0
    ELSE
        CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):V감각)/18, 0
    ENDIF
    ;03사정경험
    IF EXIST_PENIS(LOCAL:1)
        LOCAL = ARG:1*ABL:(LOCAL:1):C감각/6
        CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
        ;LUNATIC 이상은 사정할 때마다 체력이 감소
        CALL EXHAUST_EJAC, LOCAL:1, LOCAL
    ENDIF
    ;04정액경험
    SIF EXIST_PENIS(LOCAL:2)
        CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*ABL:(LOCAL:2):C감각/6), 0
    ;23키스경험
    LOCAL:5 = RAND:(ARG:1)
    CALL COMMON_UP_EXP, LOCAL:1, 23, LOCAL:5, 0
    ;80강간경험
    CALL COMMON_UP_EXP, LOCAL:1, 80, 1, 0

    ;노예 구슬 취득 처리
    IF LOCAL:1 != MASTER
        ;00쾌Ｃ
        CALL COMMON_UP_JUEL, LOCAL:1, 0, 40*ARG:1*(1+ABL:(LOCAL:1):C감각), 0
        ;01쾌Ｖ
        SIF TALENT:(LOCAL:1):120 == 0 && EXIST_PENIS(LOCAL:2)
            CALL COMMON_UP_JUEL, LOCAL:1, 1, (40*ARG:1*(1+ABL:(LOCAL:1):V감각)*(1+ABL:(LOCAL:2):기교))/3, 0
        ;12순종
        SIF ARG == MASTER
            CALL COMMON_UP_JUEL, LOCAL:1, 12, 20*ARG:1*(1+ABL:(LOCAL:1):순종)*(1+ABL:(LOCAL:1):봉사정신), 0
        ;13욕망
        CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):욕망)*(1+ABL:(LOCAL:2):기교), 0
    ENDIF
    PRINTW  
REND

;-------------------------------------------------
;男を捕まえて逆レイプする
;-------------------------------------------------
@NIGHT_ASSI_SEX_PH_2, ARG, ARG:1
REPEAT 2
    LOCAL:1 = (COUNT == 0) ? ARG # TARGET
    LOCAL:2 = (COUNT == 0) ? TARGET # ARG

    ;경험치 취득 처리
    ;00V경험
    CALL COMMON_UP_EXP, LOCAL:1, 0, ARG:1-1, 0
    ;02절정경험
    CALL COMMON_UP_EXP, LOCAL:1, 2, (ARG:1*ABL:(LOCAL:1):V감각)/6, 0
    ;04정액경험
    CALL COMMON_UP_EXP, LOCAL:1, 4, ARG:1/3, 0
    ;22펠라경험
    CALL COMMON_UP_EXP, LOCAL:1, 22, 1, 0
    ;23키스경험
    CALL COMMON_UP_EXP, LOCAL:1, 23, RAND:(ARG:1), 0
    ;44B쾌락경험
    CALL COMMON_UP_EXP, LOCAL:1, 44, (ARG:1*ABL:(LOCAL:1):B감각)/2, 0
    ;80강간경험
    CALL COMMON_UP_EXP, LOCAL:1, 80, 1, 0

    ;노예 구슬 취득 처리
    IF LOCAL:1 != MASTER
        ;01쾌Ｖ
        CALL COMMON_UP_JUEL, LOCAL:1, 1, 40*ARG:1*(1+ABL:(LOCAL:1):V감각)*(1+ABL:(LOCAL:1):기교), 0
        ;03쾌Ｂ
        CALL COMMON_UP_JUEL, LOCAL:1, 3, 20*ARG:1*(1+ABL:(LOCAL:1):B감각)*(1+ABL:(LOCAL:2):기교), 0
        ;12순종
        SIF ARG == MASTER
            CALL COMMON_UP_JUEL, LOCAL:1, 12, 20*ARG:1*(1+ABL:(LOCAL:1):순종)*(1+ABL:(LOCAL:1):봉사정신), 0
        ;13욕망
        CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):욕망)*(1+ABL:(LOCAL:2):기교), 0
    ENDIF
    PRINTW  
REND

;-------------------------------------------------
;마을의 남자들과 난교한다
;-------------------------------------------------
@NIGHT_ASSI_SEX_PH_3, ARG, ARG:1
;상대의 인원수를 정한다.
LOCAL = MAX(RAND:13, 5)

REPEAT 2
    LOCAL:1 = (COUNT == 0) ? ARG # TARGET
    LOCAL:2 = (COUNT == 0) ? TARGET # ARG

    ;경험치 취득 처리
    ;00V경험
    CALL COMMON_UP_EXP, LOCAL:1, 0, (ARG:1*LOCAL)/3, 0
    ;01A경험
    SIF ABL:(LOCAL:1):A감각 > 1 || EXP:(LOCAL:1):A경험 > 12
        CALL COMMON_UP_EXP, LOCAL:1, 1, (ARG:1*LOCAL)/4, 0
    ;02절정경험
    CALL COMMON_UP_EXP, LOCAL:1, 2, ((ARG:1*LOCAL*ABL:(LOCAL:1):C감각/6)+(ARG:1*LOCAL*ABL:(LOCAL:1):V감각/3)+(ARG:1*LOCAL*ABL:(LOCAL:1):A감각/4)+(ARG:1*LOCAL*ABL:(LOCAL:1):B감각/5))/15, 0
    ;04정액경험
    CALL COMMON_UP_EXP, LOCAL:1, 4, (ARG:1*LOCAL)*ABL:(LOCAL:1):기교/12, 0
;    ;08정음절정경험
;    CALL COMMON_UP_EXP, LOCAL:1, 8, (ARG:1*ABL:(LOCAL:1):정액중독*LOCAL)/72, 0
    ;20봉사쾌락경험
    CALL COMMON_UP_EXP, LOCAL:1, 20, ARG:1*(ABL:(LOCAL:1):C감각+ABL:(LOCAL:1):V감각+ABL:(LOCAL:1):A감각+ABL:(LOCAL:1):B감각), 0
    ;22펠라경험
    LOCAL:5 = RAND:(ARG:1/2)
    CALL COMMON_UP_EXP, LOCAL:1, 22, ARG:1+LOCAL:5, 0
    ;23키스경험
    LOCAL:5 = RAND:(ARG:1*LOCAL)
    CALL COMMON_UP_EXP, LOCAL:1, 23, LOCAL:5, 0
    ;43A쾌락경험
    SIF ABL:(LOCAL:1):A감각 > 1 || EXP:(LOCAL:1):A경험 > 12
        CALL COMMON_UP_EXP, LOCAL:1, 43, (ARG:1*LOCAL*ABL:(LOCAL:1):A감각)/4, 0
    ;44B쾌락경험
    CALL COMMON_UP_EXP, LOCAL:1, 44, ARG:1*LOCAL*ABL:(LOCAL:1):B감각/5, 0
;    ;97극락절정경험
;    LOCAL:5 = (ARG:1*LOCAL*ABL:(LOCAL:1):C감각)/90
;    SIF LOCAL:5 > (ARG:1*LOCAL*ABL:(LOCAL:1):V감각)/45
;        LOCAL:5 = (ARG:1*LOCAL*ABL:(LOCAL:1):V감각)/45
;    SIF LOCAL:5 > (ARG:1*LOCAL*ABL:(LOCAL:1):A감각)/60 && (ABL:(LOCAL:1):A감각 > 1 || EXP:(LOCAL:1):A경험 > 12)
;        LOCAL:5 = (ARG:1*LOCAL*ABL:(LOCAL:1):A감각)/60
;    SIF LOCAL:5 > (ARG:1*LOCAL*ABL:(LOCAL:1):B감각)/75
;        LOCAL:5 = (ARG:1*LOCAL*ABL:(LOCAL:1):B감각)/75
;    CALL COMMON_UP_EXP, LOCAL:1, 97, LOCAL:5/2, 0

    ;노예 구슬 취득 처리
    IF LOCAL:1 != MASTER
        ;00쾌Ｃ
        CALL COMMON_UP_JUEL, LOCAL:1, 0, 40*ARG:1*(1+ABL:(LOCAL:1):C감각)*LOCAL, 0
        ;01쾌Ｖ
        CALL COMMON_UP_JUEL, LOCAL:1, 1, 40*ARG:1*(1+ABL:(LOCAL:1):V감각)*LOCAL, 0
        ;02쾌Ａ
        SIF ABL:(LOCAL:1):A감각 > 1 || EXP:(LOCAL:1):A경험 > 12
            CALL COMMON_UP_JUEL, LOCAL:1, 2, 40*ARG:1*(1+ABL:(LOCAL:1):A감각)*LOCAL, 0
        ;03쾌Ｂ
        CALL COMMON_UP_JUEL, LOCAL:1, 3, 40*ARG:1*(1+ABL:(LOCAL:1):B감각)*LOCAL, 0
        ;12순종
        SIF ARG == MASTER
            CALL COMMON_UP_JUEL, LOCAL:1, 12, 20*ARG:1*(1+ABL:(LOCAL:1):순종)*(1+ABL:(LOCAL:1):봉사정신), 0
        ;13욕망
        CALL COMMON_UP_JUEL, LOCAL:1, 13, 15*ARG:1*(1+ABL:(LOCAL:1):욕망)*LOCAL, 0
    ENDIF
    PRINTW  
REND

;-------------------------------------------------
;우홋 멋진 남자와 3P한다
;-------------------------------------------------
@NIGHT_ASSI_SEX_PH_9, ARG, ARG:1
LOCAL:5 = MIN(ARG:1, 6)
REPEAT 2
    LOCAL:1 = (COUNT == 0) ? ARG # TARGET
    LOCAL:2 = (COUNT == 0) ? TARGET # ARG

    ;경험치 취득 처리
    ;01A경험
    CALL COMMON_UP_EXP, LOCAL:1, 1, LOCAL:5, 0
    ;02절정경험
    CALL COMMON_UP_EXP, LOCAL:1, 2, LOCAL:5*(ABL:(LOCAL:1):C감각+ABL:(LOCAL:1):A감각)/6, 0
    ;03사정경험
    LOCAL = LOCAL:5*(1+ABL:(LOCAL:1):C감각)/6
    CALL COMMON_UP_EXP, LOCAL:1, 3, LOCAL, 0
    ;LUNATIC 이상은 사정할 때마다 체력이 감소
    CALL EXHAUST_EJAC, LOCAL:1, LOCAL
    ;04정액경험
    CALL COMMON_UP_EXP, LOCAL:1, 4, LOCAL:5+(LOCAL:5*(1+ABL:(LOCAL:2):A감각)/6), 0
;    ;08정음절정경험
;    CALL COMMON_UP_EXP, LOCAL:1, 8, LOCAL:5*ABL:(LOCAL:1):정액중독/5, 0
    ;13BL경험
    CALL COMMON_UP_EXP, LOCAL:1, 13, 10*LOCAL:5, 0
    ;20봉사쾌락경험
    CALL COMMON_UP_EXP, LOCAL:1, 20, LOCAL:5*ABL:(LOCAL:1):C감각, 0
    ;22펠라경험
    CALL COMMON_UP_EXP, LOCAL:1, 22, LOCAL:5, 0
    ;23키스경험
    LOCAL = RAND:(LOCAL:5)
    CALL COMMON_UP_EXP, LOCAL:1, 23, LOCAL, 0
    ;30고통쾌락경험
    SIF LOCAL:1 == ARG
        CALL COMMON_UP_EXP, LOCAL:1, 30, LOCAL:5*ABL:(LOCAL:1):마조끼*(6-ABL:(LOCAL:1):A감각), 0
    ;43A쾌락경험
    CALL COMMON_UP_EXP, LOCAL:1, 43, LOCAL:5*ABL:(LOCAL:1):A감각, 0

    PRINTW  
REND

;-----------------------------------------------
;색시와의 보너스 처리
;-----------------------------------------------
@NIGHT_LOVE, ARG, ARG:1
PRINTL 
;21애정경험
CALL COMMON_UP_EXP, TARGET, 21, ARG, 0
;23키스경험
CALL COMMON_UP_EXP, TARGET, 23, ARG, 0
;00쾌Ｃ의 구슬
CALL COMMON_UP_JUEL, TARGET, 0, (ARG:1*200), 0
;03쾌Ｂ의 구슬
CALL COMMON_UP_JUEL, TARGET, 3, (ARG:1*200), 0
IF EXIST_PENIS(MASTER)
    ;22펠라경험
    CALL COMMON_UP_EXP, TARGET, 22, (ARG:1/2), 0
    ;11습득의 구슬
    CALL COMMON_UP_JUEL, TARGET, 11, (ARG:1*400), 0
ENDIF
IF TALENT:120 == 0 && TALENT:처녀 == 0 && EXIST_PENIS(MASTER)
    ;00V경험
    CALL COMMON_UP_EXP, TARGET, 0, (ARG:1/2), 0
    ;42V조율경험
    CALL COMMON_UP_EXP, TARGET, 42, (ARG:1/2), 0
    ;01쾌Ｖ의 구슬
    CALL COMMON_UP_JUEL, TARGET, 1, (ABL:V감각*ABL:V감각*300), 0
ENDIF
IF ABL:A감각 >= 1
    ;01A경험
    CALL COMMON_UP_EXP, TARGET, 1, (ARG:1/2), 0
    ;02쾌Ａ의 구슬
    CALL COMMON_UP_JUEL, TARGET, 2, (ABL:A감각*ABL:A감각*250), 0
    ;15恥情의 구슬
    CALL COMMON_UP_JUEL, TARGET, 15, (ARG:1*500), 0
ENDIF
;03사정경험
IF TALENT:120 || TALENT:121
    CALL COMMON_UP_EXP, TARGET, 3, (ARG:1*2), 0
    ;LUNATIC 이상은 사정할 때마다 체력이 감소
    CALL EXHAUST_EJAC, TARGET, ARG:1*2
ENDIF
;04정액경험
SIF EXIST_PENIS(MASTER)
    CALL COMMON_UP_EXP, TARGET, 4, (ARG:1*2), 0
;02절정경험
CALL COMMON_UP_EXP, TARGET, 2, (ARG:1*2), 0
;12순종의 구슬
CALL COMMON_UP_JUEL, TARGET, 12, (ARG*650), 0
;13욕정의 구슬
CALL COMMON_UP_JUEL, TARGET, 13, (ARG:1*600), 1
PRINTL 
;23키스경험
CALL COMMON_UP_EXP, MASTER, 23, ARG, 0
IF EXIST_PENIS(MASTER)
    ;03사정경험
    CALL COMMON_UP_EXP, MASTER, 3, (ARG:1/2), 0
    ;LUNATIC 이상은 사정할 때마다 체력이 감소
    CALL EXHAUST_EJAC, MASTER, ARG:1/2
ENDIF
IF TALENT:120 || TALENT:121
    ;04정액경험
    CALL COMMON_UP_EXP, MASTER, 4, (ARG:1/2), 0
ENDIF
;02절정경험
CALL COMMON_UP_EXP, MASTER, 2, (ARG:1/2), 1
